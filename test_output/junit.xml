<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="1" time="231.518" timestamp="2026-02-25T13:05:55.117730+00:00" hostname="devbox"><testcase classname="tests.integration.test_simulation_endpoint" name="test_simulation_endpoint_run" time="231.367"><failure message="Failed: Episode failed. Validation logs: []">@pytest.mark.integration_p0
    @pytest.mark.asyncio
    async def test_simulation_endpoint_run():
        async with httpx.AsyncClient(timeout=30.0) as client:
            # 1. Trigger Simulation
            print(f"Triggering simulation on {CONTROLLER_URL}...")
            resp = await client.post(
                f"{CONTROLLER_URL}/simulation/run",
                json={
                    "session_id": "test-sim-run",
                    "script_content": SCRIPT_CONTENT,
                    "backend": "GENESIS"
                }
            )
            assert resp.status_code == 202, f"Failed: {resp.text}"
            data = resp.json()
            session_id = data["session_id"]
            print(f"Simulation started with session_id: {session_id}")
    
            # 2. Poll for completion
            print("Polling for completion...")
            start_time = time.time()
            completed = False
            while time.time() - start_time &lt; 300:  # 5 min timeout
                try:
                    resp = await client.get(f"{CONTROLLER_URL}/episodes/{session_id}")
                    if resp.status_code == 404:
                        print("Episode not found yet...")
                        await asyncio.sleep(2)
                        continue
    
                    assert resp.status_code == 200
                    episode = resp.json()
                    status = episode["status"]
                    print(f"Status: {status}")
    
                    if status == "COMPLETED":
                        completed = True
                        # Verify assets
                        assets = episode.get("assets", [])
                        print(f"Assets found: {len(assets)}")
                        renders = [a for a in assets if a.get("asset_type") == "image"]
                        assert renders, "No render assets generated!"
                        break
    
                    if status == "FAILED":
&gt;                       pytest.fail(f"Episode failed. Validation logs: {episode.get('validation_logs')}")
E                       Failed: Episode failed. Validation logs: []

tests/integration/test_simulation_endpoint.py:68: Failed</failure></testcase></testsuite></testsuites>