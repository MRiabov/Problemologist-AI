<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="1" time="310.060" timestamp="2026-02-25T14:09:43.782211+00:00" hostname="devbox"><testcase classname="tests.integration.architecture_p0.test_missing_p0" name="test_int_025_events_collection_e2e" time="302.400"><failure message="Failed: Agent did not complete simulation task in time">@pytest.mark.integration_p0
    @pytest.mark.asyncio
    async def test_int_025_events_collection_e2e():
        """INT-025: Verify worker events are ingested and persisted as traces."""
        async with httpx.AsyncClient(timeout=300.0) as client:
            session_id = f"INT-025-{uuid.uuid4().hex[:8]}"
            run_req = AgentRunRequest(task="Run a simulation", session_id=session_id)
            run_resp = await client.post(
                f"{CONTROLLER_URL}/agent/run",
                json=run_req.model_dump(mode="json"),
            )
            assert run_resp.status_code == 202
            run_data = AgentRunResponse.model_validate(run_resp.json())
            episode_id = run_data.episode_id
    
            # Wait for completion
            max_attempts = 60
            for _ in range(max_attempts):
                await asyncio.sleep(5.0)
                status_resp = await client.get(f"{CONTROLLER_URL}/episodes/{episode_id}")
                ep_data = EpisodeResponse.model_validate(status_resp.json())
                if ep_data.status == EpisodeStatus.COMPLETED:
                    break
            else:
&gt;               pytest.fail("Agent did not complete simulation task in time")
E               Failed: Agent did not complete simulation task in time

tests/integration/architecture_p0/test_missing_p0.py:216: Failed</failure></testcase></testsuite></testsuites>