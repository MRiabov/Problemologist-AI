[
  {
    "timestamp": "2026-02-24T09:52:02.498602",
    "status": "failed",
    "total": 15,
    "passed": 0,
    "failed": 15,
    "skipped": 0,
    "errors": 0,
    "duration": 46.093,
    "tests": [
      {
        "name": "test_int_001_compose_boot_health_contract",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.099,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_001_compose_boot_health_contract():\n        \"\"\"INT-001: Verify services are up and healthy.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Worker Light health\n>           resp = await client.get(f\"{WORKER_LIGHT_URL}/health\", timeout=5.0)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_architecture_p0.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.096,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_002_controller_worker_execution_boundary():\n        \"\"\"INT-002: Verify controller-worker handoff and execution status.\"\"\"\n        session_id = f\"INT-002-{int(time.time())}\"\n        task = \"Build a simple box of 10x10x10mm.\"\n    \n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Trigger agent run\n>           resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": task, \"session_id\": session_id},\n                timeout=600.0,\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_003_session_filesystem_isolation",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.476,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_003_session_filesystem_isolation():\n        \"\"\"INT-003: Verify sessions have isolated filesystems.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_a = f\"test-iso-a-{int(time.time())}\"\n            session_b = f\"test-iso-b-{int(time.time())}\"\n    \n            # Write to A\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"test_iso.txt\", \"content\": \"dummy_payload\"},\n                headers={\"X-Session-ID\": session_a},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_004_simulation_serialization",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_004_simulation_serialization():\n        \"\"\"INT-004: Verify simulation serialization schema and concurrency.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Create two sessions\n            session_id_1 = f\"test-ser-1-{int(time.time())}\"\n            session_id_2 = f\"test-ser-2-{int(time.time())}\"\n    \n            script = \"\"\"\n    from build123d import *\n    from shared.models.schemas import PartMetadata\n    def build():\n        b = Box(1, 1, 1, align=(Align.CENTER, Align.CENTER, Align.MIN))\n        b.label = \"target_box\"\n        b.metadata = PartMetadata(material_id=\"aluminum_6061\", fixed=True)\n        return b\n    \"\"\"\n            # Write scripts\n>           await asyncio.gather(\n                client.post(\n                    f\"{WORKER_LIGHT_URL}/fs/write\",\n                    json={\"path\": \"box.py\", \"content\": script},\n                    headers={\"X-Session-ID\": session_id_1},\n                ),\n                client.post(\n                    f\"{WORKER_LIGHT_URL}/fs/write\",\n                    json={\"path\": \"box.py\", \"content\": script},\n                    headers={\"X-Session-ID\": session_id_2},\n                ),\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:126: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_020_simulation_failure_taxonomy",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.105,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_020_simulation_failure_taxonomy():\n        \"\"\"INT-020: Verify simulation success/failure taxonomy.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-020-{int(time.time())}\"\n    \n            # 1. Setup minimal objectives.yaml that defines a goal and forbid zone\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [10.5, 10.5, 10.5]\n        max: [12.5, 12.5, 12.5]\n      forbid_zones:\n        - name: \"zone_forbid_test\"\n          min: [2.5, 2.5, 2.5]\n          max: [4.5, 4.5, 4.5]\n      build_zone:\n        min: [0.5, 0.5, 0.5]\n        max: [20.5, 20.5, 20.5]\n    simulation_bounds:\n        min: [-20.5, -20.5, -20.5]\n        max: [20.5, 20.5, 20.5]\n    moved_object:\n        label: \"target_box\"\n        shape: \"sphere\"\n        start_position: [3.5, 3.5, 3.5]\n        runtime_jitter: [0.0, 0.0, 0.0]\n    constraints:\n        max_unit_cost: 20.5\n        max_weight_g: 10.5\n    \"\"\"\n    \n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:220: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_021_runtime_randomization_robustness",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.098,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_021_runtime_randomization_robustness():\n        \"\"\"INT-021: Verify runtime randomization robustness (multi-seed).\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-021-{int(time.time())}\"\n    \n            # Write objectives.yaml so simulation can check goals\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [-10, -10, -10]\n        max: [10, 10, 10]\n      forbid_zones: []\n      build_zone:\n        min: [-20, -20, -20]\n        max: [20, 20, 20]\n    simulation_bounds:\n        min: [-20, -20, -20]\n        max: [20, 20, 20]\n    moved_object:\n        label: \"target_box\"\n        shape: \"sphere\"\n        start_position: [0, 0, 0.5]\n        runtime_jitter: [0.1, 0.1, 0]\n    constraints:\n        max_unit_cost: 20\n        max_weight_g: 10\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:342: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_022_motor_overload_behavior",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.098,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_022_motor_overload_behavior():\n        \"\"\"INT-022: Verify motor overload detection.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-022-{int(time.time())}\"\n    \n            script_path = Path(\n                \"tests/integration/architecture_p0/scripts/verify_overload.py\"\n            )\n            with script_path.open() as f:\n                script_content = f.read()\n    \n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"verify_overload.py\", \"content\": script_content},\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:399: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_023_fastener_validity_rules",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_023_fastener_validity_rules():\n        \"\"\"INT-023: Verify fastener validity rules.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-023-{int(time.time())}\"\n    \n            # Script with INVALID hole (e.g. asking for M3 but hole logic fails?)\n            # Actually `fastener_hole` raises ValueError if size unknown.\n            # But if we want to check geometric validity?\n            # `validate` function checks interactions.\n            # But `fastener_hole` creates RigidJoint.\n    \n            # Let's verify that a valid fastener hole is created and validated.\n            script_valid = \"\"\"\n    from build123d import *\n    from shared.models.schemas import PartMetadata\n    from worker_heavy.utils.cad import fastener_hole, HoleType\n    \n    def build():\n        # Minimal boolean script to see if it crashes worker\n        p1 = Box(10, 10, 10)\n        p2 = Cylinder(2, 20).move(Location((0,0,0)))\n        res = p1.cut(p2)\n        res.label = \"valid_part\"\n        res.metadata = PartMetadata(material_id=\"aluminum_6061\", fixed=True)\n        return res\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"valid_hole.py\", \"content\": script_valid},\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:455: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_012_013_cots_search_contract_and_readonly",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.099,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-012-49ffcde0'\nbase_headers = {'X-Session-ID': 'INT-012-49ffcde0'}\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_012_013_cots_search_contract_and_readonly(session_id, base_headers):\n        \"\"\"INT-012, INT-013: Verify COTS search output contract and read-only behavior.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # COTS subagent or tool is usually invoked via a runtime script or endpoint.\n            # Let's test via the COTS indexer/search endpoint if available,\n            # or via a subagent call if the controller exposes it.\n    \n            # Scenario: Query for a common part\n            query = \"M3 screw\"\n>           resp = await client.get(f\"{CONTROLLER_URL}/cots/search\", params={\"q\": query})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_cots_reviewer.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_016_reviewer_decision_schema_gate",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-016-71b673b5'\nbase_headers = {'X-Session-ID': 'INT-012-5f3ce872'}\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_016_reviewer_decision_schema_gate(session_id, base_headers):\n        \"\"\"INT-016: Verify reviewer rejects malformed frontmatter decisions.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Create a real episode first\n            session_id = f\"INT-016-{uuid.uuid4().hex[:8]}\"\n>           run_resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": \"Test Review Schema\", \"session_id\": session_id},\n            )\n\ntests/integration/architecture_p0/test_cots_reviewer.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_017_plan_refusal_loop",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-017-0f6cf1f5'\nbase_headers = {'X-Session-ID': 'INT-012-1dec6dac'}\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_017_plan_refusal_loop(session_id, base_headers):\n        \"\"\"INT-017: Verify plan refusal loop (rejection leads to FAILED state).\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Start agent run\n            session_id = f\"INT-017-{uuid.uuid4().hex[:8]}\"\n>           run_resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": \"Test Refusal Loop\", \"session_id\": session_id},\n            )\n\ntests/integration/architecture_p0/test_cots_reviewer.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_026_mandatory_event_families",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_026_mandatory_event_families():\n        \"\"\"INT-026: Verify mandatory event families are emitted in a real run.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-026-{uuid.uuid4().hex[:8]}\"\n    \n            # 1. Setup objectives.yaml\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [8, 8, 8]\n        max: [12, 12, 12]\n      build_zone:\n        min: [0, 0, 0]\n        max: [20, 20, 20]\n    simulation_bounds:\n        min: [-10, -10, -10]\n        max: [30, 30, 30]\n    moved_object:\n        label: \"test_obj\"\n        shape: \"sphere\"\n        start_position: [0, 0, 5]\n        runtime_jitter: [0, 0, 0]\n    constraints:\n        max_unit_cost: 100\n        max_weight_g: 10\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_int_026_030.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_027_seed_variant_tracking",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_027_seed_variant_tracking():\n        \"\"\"INT-027: Verify DB persistence of variant_id and seed from the API response.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-027-{uuid.uuid4().hex[:8]}\"\n            variant_id = \"test-variant-027\"\n            seed = 42\n    \n            # 1. Start an episode with seed and variant_id in metadata_vars\n            payload = {\n                \"task\": \"Test seed and variant tracking\",\n                \"session_id\": session_id,\n                \"metadata_vars\": {\n                    \"variant_id\": variant_id,\n                    \"seed\": seed,\n                },\n            }\n>           resp = await client.post(f\"{CONTROLLER_URL}/agent/run\", json=payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_028_strict_api_schema_contract",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.096,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_028_strict_api_schema_contract():\n        \"\"\"INT-028: Verify OpenAPI schema validity and live responses.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Controller OpenAPI\n>           resp = await client.get(f\"{CONTROLLER_URL}/openapi.json\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:148: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_029_api_key_enforcement",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.098,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_029_api_key_enforcement():\n        \"\"\"INT-029: Verify API key enforcement on protected endpoints.\"\"\"\n        # Assuming /ops/backup is our protected endpoint for now\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # No key\n>           resp = await client.post(f\"{CONTROLLER_URL}/ops/backup\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:197: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T10:58:31.569606",
    "status": "passed",
    "total": 5,
    "passed": 5,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 203.387,
    "tests": [
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 111.484,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_simulation_serialization",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 55.205,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_023_fastener_validity_rules",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 28.954,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_028_strict_api_schema_contract",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.757,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_021_runtime_randomization_robustness",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 6.592,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:15:38.993476",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 148.509,
    "tests": [
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 34.895,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/'>\n\n    @pytest.mark.integration_playwright\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:5173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n        page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n    \n        # Check default sidebar ratio (expected ~0.25)\n        sidebar = page.locator('[data-panel]').nth(0)\n        window_width = 1280\n        sidebar_box = sidebar.bounding_box()\n        assert sidebar_box is not None\n        sidebar_ratio = sidebar_box['width'] / window_width\n        assert 0.20 < sidebar_ratio < 0.35, f\"Sidebar ratio {sidebar_ratio} is not approx 0.25\"\n    \n        # Resize Sidebar\n        handle = page.locator(\"[data-panel-resize-handle]\").first\n>       handle_box = handle.bounding_box()\n                     ^^^^^^^^^^^^^^^^^^^^^\n\ntests/e2e/test_int_170_171.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15479: in bounding_box\n    self._sync(self._impl_obj.bounding_box(timeout=timeout))\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:132: in bounding_box\n    return await self._with_element(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:113: in _with_element\n    handle = await self.element_handle(timeout=timeout)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:319: in element_handle\n    handle = await self._frame.wait_for_selector(\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7c615e3c7bc0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c613f6e9da0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.bounding_box: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-panel-resize-handle]\").first\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 40.85,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/'>\n\n    @pytest.mark.integration_playwright\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:5173\", timeout=60000)\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # 1. Start a session\n        page.wait_for_selector('button:has-text(\"CREATE NEW\")', timeout=30000)\n        page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n    \n        prompt_input = page.locator(\"#chat-input\")\n        prompt_input.wait_for(state=\"attached\", timeout=30000)\n        prompt_input.fill(\"Design a test part.\")\n    \n        send_button = page.get_by_label(\"Send Message\")\n        send_button.click()\n    \n        # 2. Wait for generation to complete (ends in 'planned' status in mock benchmark mode)\n        page.wait_for_selector('.lucide-check-circle2, .lucide-clock', timeout=60000)\n    \n        # 3. Verify Thumbs Up/Down icons appear in Sidebar on hover\n        session_entry = page.locator(\"button.group\").first\n        session_entry.hover()\n    \n        thumbs_up = page.locator('[data-testid=\"sidebar-thumbs-up\"]').first\n        thumbs_up.wait_for(state=\"visible\", timeout=10000)\n    \n        # 4. Click Thumbs Up and verify modal opens\n        thumbs_up.click(force=True)\n        expect(page.get_by_text(\"Agent Feedback\", exact=True)).to_be_visible(timeout=10000)\n    \n        # 5. Fill feedback and submit\n>       page.get_by_role(\"button\", name=\"Instruction Following\").click()\n\ntests/e2e/test_int_170_171.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7c615e3c7bc0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c613f3127a0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"Instruction Following\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 44.538,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/benchmark'>\n\n    @pytest.mark.integration_playwright\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:5173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = (\n            \"We need to move a steel ball 40mm radius, 1m sideways. \"\n            \"Start with a ball in one side of the simulation space and make \"\n            \"a goal in the other. Make a benchmark that would test \"\n            \"a machine that does it.\"\n        )\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.press_sequentially(prompt_text)\n    \n        # 5. Submit the prompt\n        # Using explicit click on Send Message button for reliability\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the generation to start (Stop Agent button appears)\n        expect(page.get_by_label(\"Stop Agent\")).to_be_visible(timeout=30000)\n    \n        # 7. Wait for the generation to finish (Send Message button returns)\n        # This might take a while, increase timeout\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Select plan.md in Resources sidebar\n        # The artifact sidebar has a \"Resources\" header\n        sidebar = page.locator(\"div\").filter(has_text=\"Resources\").last\n        plan_button = sidebar.get_by_role(\"button\", name=\"plan.md\")\n>       expect(plan_button).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for locator(\"div\").filter(has_text=\"Resources\").last.get_by_role(\"button\", name=\"plan.md\")\n\ntests/e2e/test_playwright_benchmark.py:48: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:22:56.841439",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 155.982,
    "tests": [
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 33.888,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/'>\n\n    @pytest.mark.integration_playwright\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:5173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n        page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n    \n        # Check default sidebar ratio (expected ~0.25)\n        sidebar = page.locator('[data-panel]').nth(0)\n        window_width = 1280\n        sidebar_box = sidebar.bounding_box()\n        assert sidebar_box is not None\n        sidebar_ratio = sidebar_box['width'] / window_width\n        assert 0.20 < sidebar_ratio < 0.35, f\"Sidebar ratio {sidebar_ratio} is not approx 0.25\"\n    \n        # Resize Sidebar\n        handle = page.locator(\"[data-panel-resize-handle]\").first\n>       handle_box = handle.bounding_box()\n                     ^^^^^^^^^^^^^^^^^^^^^\n\ntests/e2e/test_int_170_171.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15479: in bounding_box\n    self._sync(self._impl_obj.bounding_box(timeout=timeout))\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:132: in bounding_box\n    return await self._with_element(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:113: in _with_element\n    handle = await self.element_handle(timeout=timeout)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:319: in element_handle\n    handle = await self._frame.wait_for_selector(\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f0d198c7890>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f0cfaa8f9c0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.bounding_box: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-panel-resize-handle]\").first\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 41.358,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/'>\n\n    @pytest.mark.integration_playwright\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:5173\", timeout=60000)\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # 1. Start a session\n        page.wait_for_selector('button:has-text(\"CREATE NEW\")', timeout=30000)\n        page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n    \n        prompt_input = page.locator(\"#chat-input\")\n        prompt_input.wait_for(state=\"attached\", timeout=30000)\n        prompt_input.fill(\"Design a test part.\")\n    \n        send_button = page.get_by_label(\"Send Message\")\n        send_button.click()\n    \n        # 2. Wait for generation to complete (ends in 'planned' status in mock benchmark mode)\n        page.wait_for_selector('.lucide-check-circle2, .lucide-clock', timeout=60000)\n    \n        # 3. Verify Thumbs Up/Down icons appear in Sidebar on hover\n        session_entry = page.locator(\"button.group\").first\n        session_entry.hover()\n    \n        thumbs_up = page.locator('[data-testid=\"sidebar-thumbs-up\"]').first\n        thumbs_up.wait_for(state=\"visible\", timeout=10000)\n    \n        # 4. Click Thumbs Up and verify modal opens\n        thumbs_up.click(force=True)\n        expect(page.get_by_text(\"Agent Feedback\", exact=True)).to_be_visible(timeout=10000)\n    \n        # 5. Fill feedback and submit\n>       page.get_by_role(\"button\", name=\"Instruction Following\").click()\n\ntests/e2e/test_int_170_171.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f0d198c7890>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f0cfaa8c400>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"Instruction Following\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 43.171,
        "status": "failed",
        "message": "page = <Page url='http://localhost:5173/benchmark'>\n\n    @pytest.mark.integration_playwright\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:5173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = (\n            \"We need to move a steel ball 40mm radius, 1m sideways. \"\n            \"Start with a ball in one side of the simulation space and make \"\n            \"a goal in the other. Make a benchmark that would test \"\n            \"a machine that does it.\"\n        )\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.press_sequentially(prompt_text)\n    \n        # 5. Submit the prompt\n        # Using explicit click on Send Message button for reliability\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the generation to start (Stop Agent button appears)\n        expect(page.get_by_label(\"Stop Agent\")).to_be_visible(timeout=30000)\n    \n        # 7. Wait for the generation to finish (Send Message button returns)\n        # This might take a while, increase timeout\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Select plan.md in Resources sidebar\n        # The artifact sidebar has a \"Resources\" header\n        sidebar = page.locator(\"div\").filter(has_text=\"Resources\").last\n        plan_button = sidebar.get_by_role(\"button\", name=\"plan.md\")\n>       expect(plan_button).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for locator(\"div\").filter(has_text=\"Resources\").last.get_by_role(\"button\", name=\"plan.md\")\n\ntests/e2e/test_playwright_benchmark.py:48: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:35:58.185247",
    "status": "failed",
    "total": 4,
    "passed": 1,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 70.078,
    "tests": [
      {
        "name": "test_benchmark_generation_e2e",
        "classname": "tests.e2e.test_benchmark_generation",
        "time": 0.377,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 32.398,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n>       page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n\ntests/e2e/test_int_170_171.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:8217: in wait_for_selector\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_page.py:419: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fd7c72d88c0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fd7c6f5a700>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-testid=\\\"app-layout\\\"]\") to be visible\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 0.209,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n>       page.goto(\"http://localhost:5173\", timeout=60000)\n\ntests/e2e/test_int_170_171.py:64: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:9054: in goto\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_page.py:552: in goto\n    return await self._main_frame.goto(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:153: in goto\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fd7c72d88c0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fd7c6fc42c0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/\nE           Call log:\nE             - navigating to \"http://localhost:5173/\", waiting until \"load\"\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: Error"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 30.881,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n>       expect(benchmark_link).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_role(\"link\", name=\"Benchmark\")\n\ntests/e2e/test_playwright_benchmark.py:12: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:38:29.786983",
    "status": "failed",
    "total": 4,
    "passed": 1,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 70.07,
    "tests": [
      {
        "name": "test_benchmark_generation_e2e",
        "classname": "tests.e2e.test_benchmark_generation",
        "time": 0.353,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 32.215,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n        page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n    \n        # Check default sidebar ratio (expected ~0.25)\n        sidebar = page.locator(\"[data-panel]\").nth(0)\n        window_width = 1280\n>       sidebar_box = sidebar.bounding_box()\n                      ^^^^^^^^^^^^^^^^^^^^^^\n\ntests/e2e/test_int_170_171.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15479: in bounding_box\n    self._sync(self._impl_obj.bounding_box(timeout=timeout))\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:132: in bounding_box\n    return await self._with_element(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:113: in _with_element\n    handle = await self.element_handle(timeout=timeout)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:319: in element_handle\n    handle = await self._frame.wait_for_selector(\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7342402e0890>\ncb = <function Channel.send.<locals>.<lambda> at 0x73423ffccae0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.bounding_box: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-panel]\").first\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 0.192,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n>       page.goto(\"http://localhost:5173\", timeout=60000)\n\ntests/e2e/test_int_170_171.py:64: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:9054: in goto\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_page.py:552: in goto\n    return await self._main_frame.goto(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:153: in goto\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7342402e0890>\ncb = <function Channel.send.<locals>.<lambda> at 0x73423fefd260>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/\nE           Call log:\nE             - navigating to \"http://localhost:5173/\", waiting until \"load\"\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: Error"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 31.044,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page (using text instead of role for reliability in sidebar)\n        benchmark_link = page.get_by_text(\"Benchmark\", exact=True)\n        expect(benchmark_link).to_be_visible(timeout=30000)\n>       benchmark_link.click()\n\ntests/e2e/test_playwright_benchmark.py:13: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7342402e0890>\ncb = <function Channel.send.<locals>.<lambda> at 0x73423f0cb880>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_text(\"Benchmark\", exact=True)\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:42:01.231130",
    "status": "failed",
    "total": 4,
    "passed": 1,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 101.485,
    "tests": [
      {
        "name": "test_benchmark_generation_e2e",
        "classname": "tests.e2e.test_benchmark_generation",
        "time": 0.387,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 32.164,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n        page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n    \n        # Check default sidebar ratio (expected ~0.25)\n        sidebar = page.locator(\"[data-panel]\").nth(0)\n        window_width = 1280\n>       sidebar_box = sidebar.bounding_box()\n                      ^^^^^^^^^^^^^^^^^^^^^^\n\ntests/e2e/test_int_170_171.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15479: in bounding_box\n    self._sync(self._impl_obj.bounding_box(timeout=timeout))\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:132: in bounding_box\n    return await self._with_element(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:113: in _with_element\n    handle = await self.element_handle(timeout=timeout)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:319: in element_handle\n    handle = await self._frame.wait_for_selector(\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7df0a227ecf0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7df0a1c08b80>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.bounding_box: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-panel]\").first\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 31.509,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # 1. Start a session\n        page.wait_for_selector('button:has-text(\"CREATE NEW\")', timeout=30000)\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/e2e/test_int_170_171.py:70: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7df0a227ecf0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7df0a1b3ccc0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 30.983,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page (using regex for flexibility with sidebar state)\n        benchmark_link = page.get_by_text(r\"/^Benchmark$/i\", exact=False).first\n>       if not benchmark_link.is_visible():\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark\", exact=True)\n\ntests/e2e/test_playwright_benchmark.py:12: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T12:44:43.700125",
    "status": "failed",
    "total": 4,
    "passed": 1,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 101.036,
    "tests": [
      {
        "name": "test_benchmark_generation_e2e",
        "classname": "tests.e2e.test_benchmark_generation",
        "time": 0.353,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_171_layout_persistence[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 31.74,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_171_layout_persistence(page: Page):\n        \"\"\"\n        INT-171: 3-column layout + resize persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        # Clear localStorage to ensure a clean state for the test\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # Wait for app to load\n>       page.wait_for_selector('[data-testid=\"app-layout\"]', timeout=30000)\n\ntests/e2e/test_int_170_171.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:8217: in wait_for_selector\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_page.py:419: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7974b29546e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7974b27cfec0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[data-testid=\\\"app-layout\\\"]\") to be visible\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_170_feedback_system[chromium]",
        "classname": "tests.e2e.test_int_170_171",
        "time": 31.578,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_170_feedback_system(page: Page):\n        \"\"\"\n        INT-170: Post-run feedback UX + API persistence\n        \"\"\"\n        page.set_viewport_size({\"width\": 1280, \"height\": 720})\n        page.goto(\"http://localhost:15173\", timeout=60000)\n        page.evaluate(\"localStorage.clear()\")\n        page.reload()\n    \n        # 1. Start a session\n        page.wait_for_selector('button:has-text(\"CREATE NEW\")', timeout=30000)\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/e2e/test_int_170_171.py:70: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7974b29546e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7974b2556700>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_benchmark_creation_flow[chromium]",
        "classname": "tests.e2e.test_playwright_benchmark",
        "time": 31.014,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_benchmark_creation_flow(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page (using regex for flexibility with sidebar state)\n        benchmark_link = page.get_by_text(r\"/^Benchmark$/i\", exact=False).first\n        if not benchmark_link.is_visible():\n            benchmark_link = page.get_by_role(\"link\", name=r\"/Benchmark/i\")\n    \n>       expect(benchmark_link).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_role(\"link\", name=\"/Benchmark/i\")\n\ntests/e2e/test_playwright_benchmark.py:15: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:06:02.018896",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 121.035,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.779,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-e462de87\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.112,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7c74ab1ebbc0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c748c2f39c0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\nE               - locator resolved to <button class=\"inline-flex items-center justify-center whitespace-nowrap transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md h-6 px-2 text-[9px] font-bold gap-1\">\u2026</button>\nE             - attempting click action\nE               - waiting for element to be visible, enabled and stable\nE             - element was detached from the DOM, retrying\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.142,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7c74ab1ebbc0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c748c11bb00>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\nE               - locator resolved to <button class=\"inline-flex items-center justify-center whitespace-nowrap transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md h-6 px-2 text-[9px] font-bold gap-1\">\u2026</button>\nE             - attempting click action\nE               - waiting for element to be visible, enabled and stable\nE             - element was detached from the DOM, retrying\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:12:38.143616",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 121.668,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.791,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-8bc89647\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.118,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7a76a68c3680>\ncb = <function Channel.send.<locals>.<lambda> at 0x7a76879ebce0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.006,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n>       page.get_by_role(\"button\", name=\"CREATE NEW\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7a76a68c3680>\ncb = <function Channel.send.<locals>.<lambda> at 0x7a7687bc3ba0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"CREATE NEW\")\nE               - locator resolved to <button class=\"inline-flex items-center justify-center whitespace-nowrap transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md h-6 px-2 text-[9px] font-bold gap-1\">\u2026</button>\nE             - attempting click action\nE               - waiting for element to be visible, enabled and stable\nE             - element was detached from the DOM, retrying\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:24:15.178815",
    "status": "failed",
    "total": 87,
    "passed": 71,
    "failed": 15,
    "skipped": 1,
    "errors": 0,
    "duration": 665.608,
    "tests": [
      {
        "name": "test_int_001_compose_boot_health_contract",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.164,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 90.946,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_003_session_filesystem_isolation",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.182,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_simulation_serialization",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 28.648,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_020_simulation_failure_taxonomy",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 6.043,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_021_runtime_randomization_robustness",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.271,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_022_motor_overload_behavior",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 28.924,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_023_fastener_validity_rules",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 17.152,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_012_013_cots_search_contract_and_readonly",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.141,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_016_reviewer_decision_schema_gate",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.309,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_017_plan_refusal_loop",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.407,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_026_mandatory_event_families",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 3.486,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_027_seed_variant_tracking",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.318,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_028_strict_api_schema_contract",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.744,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_029_api_key_enforcement",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.268,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_030_interrupt_propagation",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 1.393,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_061_asset_serving_security",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.222,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_062_worker_openapi_contract",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.367,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_063_mounted_path_read_only",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.155,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_102_111_fem_material_validation",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 9.831,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_103_part_breakage_detection",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 8.085,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_104_stress_reporting",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 9.016,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_107_stress_objective_evaluation",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 9.959,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_109_physics_instability_abort",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 2.112,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_108_tetrahedralization_pipeline",
        "classname": "tests.integration.architecture_p0.test_int_108_meshing",
        "time": 11.348,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_110_gpu_oom_retry",
        "classname": "tests.integration.architecture_p0.test_int_110_gpu_oom",
        "time": 0.154,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_120_circuit_validation_gate",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.273,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_121_short_circuit_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.246,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_122_overcurrent_supply_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.267,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_123_overcurrent_wire_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.144,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_124_open_circuit_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.133,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_episode_artifact_persistence",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 0.207,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_005_trace_realtime_broadcast",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 5.254,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_011_planner_target_caps_validation",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 0.199,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_014_cots_propagation",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 111.728,
        "status": "failed",
        "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_014_cots_propagation():\n        \"\"\"INT-014: Verify COTS data propagates into plan and assembly definition.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-014-{uuid.uuid4().hex[:8]}\"\n            run_resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\n                    \"task\": \"Design a mechanism with a servo motor\",\n                    \"session_id\": session_id,\n                },\n            )\n            assert run_resp.status_code == 202\n            episode_id = run_resp.json()[\"episode_id\"]\n    \n            # Wait for agent to reach EXECUTING or COMPLETED status (which means planning is done)\n            max_attempts = 60\n            for _ in range(max_attempts):\n                await asyncio.sleep(5.0)\n                status_resp = await client.get(f\"{CONTROLLER_URL}/episodes/{episode_id}\")\n                data = status_resp.json()\n                if data[\"status\"] in [\"executing\", \"completed\", \"approved\"]:\n                    break\n            else:\n                pytest.fail(\"Agent did not complete planning in time\")\n    \n            # Verify plan.md contains COTS ID\n            # (In mock scenario INT-014, it writes 'Use motor MOCK-MOTOR-ID.')\n            plan_resp = await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/read\",\n                json={\"path\": \"plan.md\"},\n                headers={\"X-Session-ID\": session_id},\n            )\n            assert plan_resp.status_code == 200\n>           assert \"MOCK-MOTOR-ID\" in plan_resp.json()[\"content\"]\nE           assert 'MOCK-MOTOR-ID' in \"# Engineering Plan\\n\\n<!-- \\nThis plan describes HOW you will solve the benchmark scenario defined in objectives.yaml.\\nThe plan must respect ALL constraints: build_zone boundaries, max_unit_cost, max_weight.\\nThink mechanically: slopes guide gravity, walls channel flow, motors provide energy.\\n-->\\n\\n## 1. Solution Overview\\n\\n<!--\\nDescribe your mechanical solution strategy in 2-3 sentences.\\nFocus on the CORE MECHANISM that guides the moved_object to the goal_zone.\\n\\nEXAMPLE (Ball-to-Funnel Problem):\\n> A sloped ramp guides the ball from the spawn position toward a central funnel.\\n> The funnel narrows to channel the ball precisely into the goal zone below.\\n> Side walls prevent escape paths and ensure robust capture across jitter variations.\\n-->\\n\\n- **Core Mechanism**: [e.g., Gravity-fed ramp with funnel collection]\\n- **Key Principle**: [e.g., Potential energy conversion, channeled flow, rotational sorting]\\n- **Robustness Strategy**: [e.g., Wide capture area, tapered guides, retry paths]\\n\\n## 2. Parts List\\n\\n<!--\\nList each part you will create. For EACH part, specify:\\n- Name (used in code as variable)\\n- Approximate dimensions (in mm)\\n- Material (must be compatible...-----------|\\n| Ball bounces off ramp | Medium | High | Add lip at ramp edges, roughen surface |\\n| Ball gets stuck in funnel | Low | High | Increase funnel taper angle to 45\u00b0 |\\n| Cost exceeds budget | Medium | Medium | Use thinner walls (2.5mm vs 3mm) |\\n| Ball escapes via jitter | High | High | Extend capture area beyond jitter range |\\n-->\\n\\n| Risk | Likelihood | Impact | Mitigation |\\n|------|------------|--------|------------|\\n| [risk description] | [Low/Med/High] | [Low/Med/High] | [mitigation strategy] |\\n\\n### Jitter Robustness Check\\n\\n<!--\\nThe moved_object has runtime_jitter and static_randomization.\\nYour solution MUST work across ALL possible spawn variations.\\n\\nCALCULATION:\\n- Spawn position: [X, Y, Z] from objectives.yaml\\n- Runtime jitter: \u00b1[X, Y, Z] mm\\n- Static randomization: [describe any radius/mass variations]\\n\\nYour capture mechanism must cover:\\n- X range: [spawn.X - jitter.X] to [spawn.X + jitter.X]\\n- Y range: [spawn.Y - jitter.Y] to [spawn.Y + jitter.Y]\\n- Z range: [spawn.Z - jitter.Z] to [spawn.Z + jitter.Z]\\n-->\\n\\n- Capture area covers spawn jitter: \u2610 Yes / \u2610 No\\n- Tested edge cases considered: [list which corners/extremes you've accounted for]\\n\"\n\ntests/integration/architecture_p0/test_missing_p0.py:149: AssertionError"
      },
      {
        "name": "test_int_025_events_collection_e2e",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 90.947,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_053_temporal_workflow_lifecycle",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 1.369,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_055_s3_artifact_upload_logging",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 0.975,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_054_temporal_failure_path",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 4.052,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_056_s3_upload_failure_retry",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 1.5,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_101_physics_backend_selection",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 11.076,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_105_fluid_containment_evaluation",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 3.035,
        "status": "skipped",
        "message": "Skipping Genesis MPM test on CPU due to performance constraints."
      },
      {
        "name": "test_int_106_flow_rate_evaluation",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 2.032,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_112_mujoco_backward_compat",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 5.195,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_005_mandatory_artifacts_gate",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.427,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_006_plan_structure_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.236,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_007_todo_integrity",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.213,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_008_objectives_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.198,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_009_cost_estimation_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.238,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_011_planner_caps_enforcement",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 2.097,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_015_engineer_handover_immutability",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 2.55,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_019_hard_constraints_gates",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.249,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_010_planner_pricing_script_integration",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 2.092,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_018_validate_and_price_integration_gate",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.203,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.674,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}/assets/{path}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.724,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/traces/{trace_id}/feedback]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 7.155,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/review]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 6.527,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}/electronics/schematic]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.692,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 15.338,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.489,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[DELETE /episodes/{episode_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 2.75,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/interrupt]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 2.586,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /benchmark/{session_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.921,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /benchmark/{session_id}/objectives]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.492,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /skills/]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.131,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /cots/search]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.412,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /cots/metadata]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.167,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /api/v1/sessions/{session_id}/queue]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 2.927,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /test/episodes]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.391,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /health]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.471,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_worker_heavy_fuzz",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.107,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_043_batch_execution_path",
        "classname": "tests.integration.architecture_p1.test_batch_execution",
        "time": 88.711,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_043_batch_execution_path():\n        \"\"\"INT-043: Verify batch job submission and execution isolation.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Submit 2 concurrent jobs\n            tasks = []\n            session_ids = []\n            for i in range(2):\n                session_id = f\"INT-043-batch-{i}-{int(time.time())}\"\n                session_ids.append(session_id)\n                payload = {\n                    \"task\": f\"Batch execution test task {i}\",\n                    \"session_id\": session_id,\n                }\n                tasks.append(\n                    client.post(f\"{CONTROLLER_URL}/agent/run\", json=payload, timeout=10.0)\n                )\n    \n            # 1. Verify all accepted\n            responses = await asyncio.gather(*tasks)\n            episode_ids = []\n            for resp in responses:\n                assert resp.status_code == 202\n                episode_ids.append(resp.json()[\"episode_id\"])\n    \n            assert len(set(episode_ids)) == 2, \"All episode IDs must be unique\"\n    \n            # 2. Verify eventual completion of all\n            # We poll all episodes until they are done or we timeout\n            start_time = time.time()\n            timeout = 300  # seconds\n    \n            while time.time() - start_time < timeout:\n                all_done = True\n                for episode_id in episode_ids:\n>                   status_resp = await client.get(\n                        f\"{CONTROLLER_URL}/episodes/{episode_id}\", timeout=5.0\n                    )  # should be instant because LLMs are mocked.\n\ntests/integration/architecture_p1/test_batch_execution.py:47: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_benchmark_planner_cad_reviewer_path",
        "classname": "tests.integration.architecture_p1.test_benchmark_workflow",
        "time": 0.153,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_benchmark_planner_cad_reviewer_path():\n        \"\"\"\n        INT-031: Benchmark planner -> CAD -> reviewer path\n    \n        Verifies:\n        1. Benchmark generation trigger\n        2. Successful completion of the workflow\n        3. Existence of required artifacts (plan.md, objectives.yaml, Reviews)\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Benchmark Generation\n            prompt = \"Create a simple path planning benchmark with a wall and a goal.\"\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_benchmark_workflow.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_engineering_full_loop",
        "classname": "tests.integration.architecture_p1.test_engineering_loop",
        "time": 0.149,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_engineering_full_loop():\n        \"\"\"\n        INT-033: Engineering full loop (planner/coder/reviewer)\n    \n        Verifies:\n        1. Triggers Engineering Agent on a valid benchmark\n        2. Planner generates plan.md (with budgets) and todo.md\n        3. Coder attempts implementation (producing script.py or similar)\n        4. Reviewer approves/rejects with typed decision\n    \n        Note: Requires a valid benchmark session ID.\n        If we cannot rely on a pre-existing one, we generate one first.\n        \"\"\"\n        async with AsyncClient(\n            base_url=CONTROLLER_URL, timeout=300.0\n        ) as client:  # Longer timeout for full loop\n            # 1. Setup: Generate a Benchmark (or use a mocked ID if testing against mock)\n            # For integration, we generate one.\n            prompt = \"Create a benchmark about stacking blocks.\"\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_engineering_loop.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_benchmark_to_engineer_handoff",
        "classname": "tests.integration.architecture_p1.test_handover",
        "time": 0.15,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_benchmark_to_engineer_handoff():\n        \"\"\"\n        INT-032: Benchmark-to-engineer handoff package\n    \n        Verifies that the Engineer receives (or has access to) the expected bundle:\n        - objectives.yaml\n        - environment geometry metadata\n        - 24-view renders\n        - moving-parts DOFs\n        - runtime jitter metadata\n    \n        This test triggers a benchmark generation and then inspects the produced artifacts\n        to ensure the \"package\" is complete for the Engineer.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Benchmark Generation\n            prompt = \"Create a benchmark with a moving platform.\"  # implies moving parts\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_handover.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_render_artifact_generation_int_039",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.148,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_render_artifact_generation_int_039():\n        \"\"\"\n        INT-039: Render Artifact Generation\n        Must verify that the 24-view rendering pipeline produces discoverable artifacts\n        in S3/Storage after an integrated run.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Agent Run (or Benchmark Generation)\n            prompt = \"Create a simple cube and simulate it.\"\n            # We use /agent/run for a standard agent flow\n            session_id = f\"INT-039-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_asset_persistence_linkage_int_040",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.218,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_asset_persistence_linkage_int_040():\n        \"\"\"\n        INT-040: Asset Persistence Linkage\n        Must verify that all final episode assets (scripts, renders, MJCF, video)\n        are correctly linked in the DB and stored in S3.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Trigger a run\n            session_id = f\"INT-040-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\",\n                json={\n                    \"task\": \"Create a part named 'linkage_test' and simulate.\",\n                    \"session_id\": session_id,\n                },\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_mjcf_joint_mapping_int_037",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.16,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_mjcf_joint_mapping_int_037():\n        \"\"\"\n        INT-037: MJCF Joint Mapping\n        Must verify that produced MJCF artifacts from a real run have the correct joint/actuator mappings.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # We use a prompt that should result in a jointed assembly\n            session_id = f\"INT-037-{uuid.uuid4().hex[:8]}\"\n            prompt = \"\"\"Create a simple door: a 'frame' and a 'panel'.\n            The 'panel' should be attached to the 'frame' with a RevoluteJoint.\n            Then simulate.\"\"\"\n    \n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:117: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_controller_function_family_int_038",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.183,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_controller_function_family_int_038():\n        \"\"\"\n        INT-038: Controller Function Family\n        Verify that different controller modes execute correctly in a real simulation.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Prompt for a sinusoidal controller\n            prompt = (\n                \"Create a part that oscillates sinusoidally using the dynamic controller.\"\n            )\n            session_id = f\"INT-038-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:162: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_temporal_recovery_int_041",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.305,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_temporal_recovery_int_041():\n        \"\"\"\n        INT-041: Container Preemption Recovery Path (Temporal)\n        Verify that Temporal workflows are registered and can be triggered.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Trigger an operations workflow (Backup) which uses Temporal\n            # This requires a secret, which defaults to 'change-me-in-production' in dev\n>           resp = await client.post(\n                \"/ops/backup\", headers={\"X-Backup-Secret\": \"change-me-in-production\"}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_async_callbacks_int_042",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.254,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_async_callbacks_int_042():\n        \"\"\"\n        INT-042: Async Callbacks/Webhook Completion Path\n        Verify that episodes transition status correctly through async execution.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            session_id = f\"INT-042-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\",\n                json={\"task\": \"Just say hello and finish.\", \"session_id\": session_id},\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:215: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_064_cots_metadata",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.233,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_064_cots_metadata():\n        \"\"\"INT-064: COTS reproducibility metadata persistence.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Fetch metadata\n>           resp = await client.get(f\"{CONTROLLER_URL}/cots/metadata\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p1/test_int_064_to_069.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_065_skills_safety",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.342,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_066_fluid_electronics_coupling",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.348,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_066_fluid_electronics_coupling():\n        \"\"\"INT-066: Fluid-on-electronics failure coupling.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-066-{int(time.time())}\"\n    \n            # Create a scene with fluid and a part marked as electronics\n            objectives_content = \"\"\"\n    physics:\n      backend: \"genesis\"\n    objectives:\n      goal_zone: {min: [0.5,0.5,0.5], max: [0.6,0.6,0.6]}\n      build_zone: {min: [-1,-1,-1], max: [1,1,1]}\n    simulation_bounds: {min: [-1,-1,-1], max: [1,1,1]}\n    moved_object: {label: \"obj\", shape: \"sphere\", start_position: [0,0,0], runtime_jitter: [0,0,0]}\n    \n    constraints: {max_unit_cost: 100, max_weight_g: 1000}\n    \"\"\"\n            await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"objectives.yaml\", \"content\": objectives_content},\n                headers={\"X-Session-ID\": session_id},\n            )\n    \n            # script.py with an electronics component\n            script_content = \"\"\"from build123d import *\n    from shared.models.schemas import PartMetadata\n    from shared.enums import ManufacturingMethod\n    \n    def build():\n        # A box that will be hit by fluid\n        b = Box(0.1, 0.1, 0.1)\n        b.label = \"elec_part\"\n        b.metadata = PartMetadata(material_id=\"aluminum_6061\", manufacturing_method=ManufacturingMethod.CNC)\n        return b\n    \"\"\"\n            await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"script.py\", \"content\": script_content},\n                headers={\"X-Session-ID\": session_id},\n            )\n    \n            # assembly_definition.yaml marking elec_part as electronics\n            assembly_content = f\"\"\"\n    version: \"1.0\"\n    constraints:\n      benchmark_max_unit_cost_usd: 100\n      benchmark_max_weight_g: 1000\n      planner_target_max_unit_cost_usd: 100\n      planner_target_max_weight_g: 1000\n    electronics:\n      power_supply: {{voltage_dc: 12, max_current_a: 10}}\n      components:\n        - {{component_id: \"elec_part\", type: \"motor\", assembly_part_ref: \"elec_part\"}}\n      wiring:\n        - {{wire_id: \"w1\", from: {{component: \"supply\", terminal: \"v+\"}}, to: {{component: \"elec_part\", terminal: \"+\"}}, gauge_awg: 22, length_mm: 50}}\n        - {{wire_id: \"w2\", from: {{component: \"elec_part\", terminal: \"-\"}}, to: {{component: \"supply\", terminal: \"0\"}}, gauge_awg: 22, length_mm: 50}}\n    totals:\n      estimated_unit_cost_usd: 10\n      estimated_weight_g: 100\n      estimate_confidence: \"high\"\n    \"\"\"\n            await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"assembly_definition.yaml\", \"content\": assembly_content},\n                headers={\"X-Session-ID\": session_id},\n            )\n    \n            # Add fluid at the same position as elec_part\n            # We modify objectives.yaml to include fluid\n            objectives_with_fluid = (\n                objectives_content\n                + \"\"\"\n    fluids:\n      - fluid_id: \"water\"\n        initial_volume:\n          type: \"sphere\"\n          center: [0, 0, 0]\n          radius: 0.05\n    \"\"\"\n            )\n            await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_with_fluid,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n    \n            # Run simulation\n>           resp = await client.post(\n                f\"{WORKER_HEAVY_URL}/benchmark/simulate\",\n                json={\"script_path\": \"script.py\"},\n                headers={\"X-Session-ID\": session_id},\n                timeout=300.0,\n            )\n\ntests/integration/architecture_p1/test_int_064_to_069.py:149: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_067_068_steerability",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.226,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_067_068_steerability():\n        \"\"\"INT-067 & INT-068: Steerability payload and code references.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Create a dummy episode\n            task = \"Test steerability\"\n>           resp = await client.post(\n                f\"{CONTROLLER_URL}/test/episodes\",\n                json={\"task\": task, \"session_id\": \"test-steer-123\"},\n            )\n\ntests/integration/architecture_p1/test_int_064_to_069.py:174: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_069_frontend_contract",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.223,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_069_frontend_contract():\n        \"\"\"INT-069: Frontend delivery visibility contract.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Create an episode\n            task = \"Test frontend contract\"\n>           resp = await client.post(\n                f\"{CONTROLLER_URL}/test/episodes\",\n                json={\"task\": task, \"session_id\": \"test-fe-contract\"},\n            )\n\ntests/integration/architecture_p1/test_int_064_to_069.py:219: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:26:47.639246",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 95.821,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.675,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-16f97456\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.918,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7d6b20eee4e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7d6b2081f7e0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.5,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7d6b20eee4e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7d6b20888fe0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:30:01.030078",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 96.349,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.288,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-fee4f00a\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.554,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7178e3bdf620>\ncb = <function Channel.send.<locals>.<lambda> at 0x7178e358f740>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.777,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7178e3bdf620>\ncb = <function Channel.send.<locals>.<lambda> at 0x7178e376dee0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:33:04.425857",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 98.555,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.92,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-841de1a4\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.397,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7222335f2600>\ncb = <function Channel.send.<locals>.<lambda> at 0x722232f6eca0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.202,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7222335f2600>\ncb = <function Channel.send.<locals>.<lambda> at 0x7222330693a0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:35:41.205199",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 96.644,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.654,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 3. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-95403880\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:44: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.734,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x74ca56ef2600>\ncb = <function Channel.send.<locals>.<lambda> at 0x74ca568539c0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.53,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x74ca56ef2600>\ncb = <function Channel.send.<locals>.<lambda> at 0x74ca5689efc0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:36:50.094914",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "errors": 1,
    "duration": 0.497,
    "tests": [
      {
        "name": "tests.integration.frontend.p0.test_frontend_p0",
        "classname": "",
        "time": 0.0,
        "status": "error",
        "message": ".venv/lib/python3.12/site-packages/_pytest/python.py:507: in importtestmodule\n    mod = import_path(\n.venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.12/importlib/__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n.venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:188: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.12/ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"/home/maksym/Work/proj/Problemologist/Problemologist-AI/tests/integration/frontend/p0/test_frontend_p0.py\", line 38\nE       engineer_id = resp_e.json()[\"episode_id\"]\nE   IndentationError: unexpected indent"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:40:59.082003",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 101.876,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 37.744,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client() as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-cdd7d026\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:60: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.706,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:90: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x76668d944080>\ncb = <function Channel.send.<locals>.<lambda> at 0x76668d2e7c40>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.674,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:138: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x76668d944080>\ncb = <function Channel.send.<locals>.<lambda> at 0x76668d4b1e40>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T13:44:29.757120",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 71.923,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.341,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:250: in handle_request\n    resp = self._pool.handle_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:256: in handle_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:236: in handle_request\n    response = connection.handle_request(\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection.py:103: in handle_request\n    return self._connection.handle_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/http11.py:136: in handle_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_sync/http11.py:106: in handle_request\n    ) = self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/http11.py:177: in _receive_response_headers\n    event = self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/http11.py:217: in _receive_event\n    data = self._network_stream.read(\n.venv/lib/python3.12/site-packages/httpcore/_backends/sync.py:126: in read\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ReadTimeout'>, <class 'OSError'>: <class 'httpcore.ReadError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ReadTimeout: timed out\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\npage = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client() as client:\n            for _ in range(max_retries):\n>               resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/frontend/p0/test_frontend_p0.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/httpx/_client.py:1053: in get\n    return self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:249: in handle_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ReadTimeout: timed out\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ReadTimeout"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.068,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x777053cf3e60>\ncb = <function Channel.send.<locals>.<lambda> at 0x7770537c8c20>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.51,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x777053cf3e60>\ncb = <function Channel.send.<locals>.<lambda> at 0x777053220180>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T14:53:19.017967",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 97.34,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 34.365,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n>       assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\nE       AssertionError: Episodes ca424111-82fa-40c2-8d87-659f385119c8 and b21bad3c-a150-4ec8-b17c-d31e2ee0e061 did not appear in API\nE       assert False\n\ntests/integration/frontend/p0/test_frontend_p0.py:55: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.266,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x70b5229440e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x70b5222a85e0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.246,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x70b5229440e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x70b5219602c0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T14:55:56.297880",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 102.372,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 37.897,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n>       assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\nE       AssertionError: Episodes 3cbc3f8d-ca8e-40f4-b9f6-2ee9a29426fd and 9e403e93-ad76-46b8-beac-2fef6897e8cc did not appear in API\nE       assert False\n\ntests/integration/frontend/p0/test_frontend_p0.py:55: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.839,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7c46e77f65d0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c46e726a980>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.816,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7c46e77f65d0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7c46e6680360>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T14:58:22.200086",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 96.588,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 34.052,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n>       assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\nE       AssertionError: Episodes bedc8aa0-4dd7-4e75-b6ac-b0da97166ad7 and 10386792-44f2-4637-9272-3b780f8ceeaf did not appear in API\nE       assert False\n\ntests/integration/frontend/p0/test_frontend_p0.py:55: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.096,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x71328c220a70>\ncb = <function Channel.send.<locals>.<lambda> at 0x71328b8ee980>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.992,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x71328c220a70>\ncb = <function Channel.send.<locals>.<lambda> at 0x71328afa4360>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:00:37.152808",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 96.301,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 33.952,
        "status": "failed",
        "message": "page = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n>       assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\nE       AssertionError: Episodes cf675a7a-0449-45b6-97d8-438147e8cee8 and 116391d4-0085-4aca-aeb5-6f29e9e7b00d did not appear in API\nE       assert False\n\ntests/integration/frontend/p0/test_frontend_p0.py:55: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.008,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7ad611af2630>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ad61143e160>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.927,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7ad611af2630>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ad610afc360>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:03:33.513549",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 97.769,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 34.264,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-a9f2e1e7\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:61: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.96,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7985a79f6300>\ncb = <function Channel.send.<locals>.<lambda> at 0x7985a73d9080>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.149,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7985a79f6300>\ncb = <function Channel.send.<locals>.<lambda> at 0x7985a74bcf40>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:07:09.271035",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 98.172,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 34.297,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for _ in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-fd58526e\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:61: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.176,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7d26749f6720>\ncb = <function Channel.send.<locals>.<lambda> at 0x7d26743a2c00>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 32.296,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:141: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7d26749f6720>\ncb = <function Channel.send.<locals>.<lambda> at 0x7d267449cf40>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:11:38.263864",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 97.063,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 34.478,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                print(f\"POLL {i}: status={resp.status_code}, count={len(resp.json()) if resp.status_code==200 else 'N/A'}\")\n                if resp.status_code == 200:\n                    ep_data = resp.json()\n                    ep_ids = [ep[\"id\"] for ep in ep_data]\n                    print(f\"  IDs: {ep_ids[:3]}...\")\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        page.goto(FRONTEND_URL)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-3e10656d\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:64: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.217,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:95: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7e8f75b183b0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7e8f7546cfe0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.949,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:144: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7e8f75b183b0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7e8f75574e00>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:13:56.926704",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 101.738,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 39.413,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                print(f\"POLL {i}: status={resp.status_code}, count={len(resp.json()) if resp.status_code==200 else 'N/A'}\")\n                if resp.status_code == 200:\n                    ep_data = resp.json()\n                    ep_ids = [ep[\"id\"] for ep in ep_data]\n                    print(f\"  IDs: {ep_ids[:3]}...\")\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        page.on(\"request\", lambda request: print(f\"BROWSER REQUEST: {request.method} {request.url}\"))\n        page.on(\"response\", lambda response: print(f\"BROWSER RESPONSE: {response.status} {response.url}\"))\n    \n        page.goto(FRONTEND_URL)\n        import time\n        time.sleep(5) # Give frontend time to load and fetch episodes\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-01108ed7\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:70: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.841,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x77d0ebf243b0>\ncb = <function Channel.send.<locals>.<lambda> at 0x77d0eb8cb600>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 31.029,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:150: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x77d0ebf243b0>\ncb = <function Channel.send.<locals>.<lambda> at 0x77d0eb6fe980>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:16:50.630361",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 99.429,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 37.046,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                print(f\"POLL {i}: status={resp.status_code}, count={len(resp.json()) if resp.status_code==200 else 'N/A'}\")\n                if resp.status_code == 200:\n                    ep_data = resp.json()\n                    ep_ids = [ep[\"id\"] for ep in ep_data]\n                    print(f\"  IDs: {ep_ids[:3]}...\")\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        import sys\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\", file=sys.stderr))\n        page.on(\"request\", lambda request: print(f\"BROWSER REQUEST: {request.method} {request.url}\", file=sys.stderr))\n        page.on(\"response\", lambda response: print(f\"BROWSER RESPONSE: {response.status} {response.url}\", file=sys.stderr))\n    \n        page.goto(FRONTEND_URL)\n        page.wait_for_load_state(\"networkidle\")\n        import time\n        time.sleep(2)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-8bd6432a\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:72: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.95,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x73fa7b318410>\ncb = <function Channel.send.<locals>.<lambda> at 0x73fa7ac6fb00>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.973,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x73fa7b318410>\ncb = <function Channel.send.<locals>.<lambda> at 0x73fa7ad7f1a0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:19:10.706258",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 98.967,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.635,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                print(f\"POLL {i}: status={resp.status_code}, count={len(resp.json()) if resp.status_code==200 else 'N/A'}\")\n                if resp.status_code == 200:\n                    ep_data = resp.json()\n                    ep_ids = [ep[\"id\"] for ep in ep_data]\n                    print(f\"  IDs: {ep_ids[:3]}...\")\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        import sys\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\", file=sys.stderr))\n        page.on(\"request\", lambda request: print(f\"BROWSER REQUEST: {request.method} {request.url}\", file=sys.stderr))\n        page.on(\"response\", lambda response: print(f\"BROWSER RESPONSE: {response.status} {response.url}\", file=sys.stderr))\n    \n        page.goto(FRONTEND_URL)\n        page.wait_for_load_state(\"networkidle\")\n        import time\n        time.sleep(2)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-11051629\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:72: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.919,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7cc9be8f62a0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7cc9be26b6a0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.953,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7cc9be8f62a0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7cc9be373c40>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:21:31.398665",
    "status": "failed",
    "total": 3,
    "passed": 0,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 99.13,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.668,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                print(f\"POLL {i}: status={resp.status_code}, count={len(resp.json()) if resp.status_code==200 else 'N/A'}\")\n                if resp.status_code == 200:\n                    ep_data = resp.json()\n                    ep_ids = [ep[\"id\"] for ep in ep_data]\n                    print(f\"  IDs: {ep_ids[:3]}...\")\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n                time.sleep(1)\n    \n        assert episodes_found, f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n    \n        # 3. Navigate to frontend\n        import sys\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\", file=sys.stderr))\n        page.on(\"request\", lambda request: print(f\"BROWSER REQUEST: {request.method} {request.url}\", file=sys.stderr))\n        page.on(\"response\", lambda response: print(f\"BROWSER RESPONSE: {response.status} {response.url}\", file=sys.stderr))\n    \n        page.goto(FRONTEND_URL)\n        page.wait_for_load_state(\"networkidle\")\n        import time\n        time.sleep(2)\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-a05a263a\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:72: AssertionError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.995,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_158_workflow_parity(page: Page):\n        \"\"\"\n        INT-158: In both workflows, prompt submission, streamed assistant output,\n        and artifact refresh behave consistently through real backend events.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # Test for Engineer Workflow\n        page.goto(FRONTEND_URL)\n    \n        # Click CREATE NEW to ensure fresh state\n        page.screenshot(path=\"screenshot-workspace.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7976788f5e20>\ncb = <function Channel.send.<locals>.<lambda> at 0x7976780bd620>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.996,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_159_plan_approval_comment(page: Page):\n        \"\"\"\n        INT-159: After planner output, approve/disapprove controls appear;\n        action posts decision to API; optional user comment is persisted\n        and visible in run history.\n        \"\"\"\n        page.on(\"console\", lambda msg: print(f\"BROWSER CONSOLE: {msg.text}\"))\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n    \n        # Click CREATE NEW\n        page.screenshot(path=f\"screenshot-click-{uuid.uuid4()}.png\")\n>       page.get_by_test_id(\"create-new-button\").click()\n\ntests/integration/frontend/p0/test_frontend_p0.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x7976788f5e20>\ncb = <function Channel.send.<locals>.<lambda> at 0x79767836ba60>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_test_id(\"create-new-button\")\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:23:57.850724",
    "status": "passed",
    "total": 3,
    "passed": 3,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 32.745,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 12.07,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 14.062,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 6.557,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T15:25:32.285038",
    "status": "passed",
    "total": 3,
    "passed": 3,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 34.271,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 4.903,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 17.94,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 11.375,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T16:08:16.680757",
    "status": "passed",
    "total": 0,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 0.015,
    "tests": []
  },
  {
    "timestamp": "2026-02-24T16:10:10.380123",
    "status": "passed",
    "total": 1,
    "passed": 1,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 59.837,
    "tests": [
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.565,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T16:15:31.616679",
    "status": "passed",
    "total": 1,
    "passed": 1,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 61.354,
    "tests": [
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.191,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T19:11:09.779047",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 510.035,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 8.985,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.471,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 16.615,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 135.93,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_164.py:37: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 139.803,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_165.py:39: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 140.227,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_166.py:37: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T19:11:17.527925",
    "status": "failed",
    "total": 86,
    "passed": 70,
    "failed": 15,
    "skipped": 1,
    "errors": 0,
    "duration": 632.789,
    "tests": [
      {
        "name": "test_int_001_compose_boot_health_contract",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.165,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 40.483,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_002_controller_worker_execution_boundary():\n        \"\"\"INT-002: Verify controller-worker handoff and execution status.\"\"\"\n        session_id = f\"INT-002-{int(time.time())}\"\n        task = \"Build a simple box of 10x10x10mm.\"\n    \n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Trigger agent run\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": task, \"session_id\": session_id},\n                timeout=600.0,\n            )\n            assert resp.status_code == 202\n            episode_id = resp.json()[\"episode_id\"]\n    \n            # Poll for status with increased timeout\n            max_attempts = 120\n            completed = False\n            for _ in range(max_attempts):\n                await asyncio.sleep(10.0)\n                # 20 minutes?\n>               s_resp = await client.get(f\"{CONTROLLER_URL}/episodes/{episode_id}\")\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_architecture_p0.py:72: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_003_session_filesystem_isolation",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.306,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_simulation_serialization",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 40.786,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_020_simulation_failure_taxonomy",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 7.703,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_021_runtime_randomization_robustness",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.33,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_022_motor_overload_behavior",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 38.649,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_023_fastener_validity_rules",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 21.818,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_012_013_cots_search_contract_and_readonly",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.21,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_016_reviewer_decision_schema_gate",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.507,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_017_plan_refusal_loop",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.536,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_026_mandatory_event_families",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 5.438,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_027_seed_variant_tracking",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.419,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_028_strict_api_schema_contract",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.307,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_029_api_key_enforcement",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.549,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_030_interrupt_propagation",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 1.67,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_061_asset_serving_security",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.559,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_062_worker_openapi_contract",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.509,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_063_mounted_path_read_only",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.258,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_102_111_fem_material_validation",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 15.355,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_103_part_breakage_detection",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 12.983,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_104_stress_reporting",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 12.239,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_107_stress_objective_evaluation",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 11.616,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_109_physics_instability_abort",
        "classname": "tests.integration.architecture_p0.test_int_102_111",
        "time": 2.351,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_108_tetrahedralization_pipeline",
        "classname": "tests.integration.architecture_p0.test_int_108_meshing",
        "time": 15.053,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_110_gpu_oom_retry",
        "classname": "tests.integration.architecture_p0.test_int_110_gpu_oom",
        "time": 0.219,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_120_circuit_validation_gate",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.329,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_121_short_circuit_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.538,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_122_overcurrent_supply_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.265,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_123_overcurrent_wire_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.205,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_124_open_circuit_detection",
        "classname": "tests.integration.architecture_p0.test_int_120_electronics",
        "time": 0.225,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_episode_artifact_persistence",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 0.248,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_005_trace_realtime_broadcast",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 5.366,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_011_planner_target_caps_validation",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 0.631,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_014_cots_propagation",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 118.378,
        "status": "failed",
        "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_014_cots_propagation():\n        \"\"\"INT-014: Verify COTS data propagates into plan and assembly definition.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-014-{uuid.uuid4().hex[:8]}\"\n            run_resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\n                    \"task\": \"Design a mechanism with a servo motor\",\n                    \"session_id\": session_id,\n                },\n            )\n            assert run_resp.status_code == 202\n            episode_id = run_resp.json()[\"episode_id\"]\n    \n            # Wait for agent to reach EXECUTING or COMPLETED status (which means planning is done)\n            max_attempts = 60\n            for _ in range(max_attempts):\n                await asyncio.sleep(5.0)\n                status_resp = await client.get(f\"{CONTROLLER_URL}/episodes/{episode_id}\")\n                data = status_resp.json()\n                if data[\"status\"] in [\"executing\", \"completed\", \"approved\"]:\n                    break\n            else:\n                pytest.fail(\"Agent did not complete planning in time\")\n    \n            # Verify plan.md contains COTS ID\n            # (In mock scenario INT-014, it writes 'Use motor MOCK-MOTOR-ID.')\n            plan_resp = await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/read\",\n                json={\"path\": \"plan.md\"},\n                headers={\"X-Session-ID\": session_id},\n            )\n            assert plan_resp.status_code == 200\n>           assert \"MOCK-MOTOR-ID\" in plan_resp.json()[\"content\"]\nE           assert 'MOCK-MOTOR-ID' in \"# Engineering Plan\\n\\n<!-- \\nThis plan describes HOW you will solve the benchmark scenario defined in objectives.yaml.\\nThe plan must respect ALL constraints: build_zone boundaries, max_unit_cost, max_weight.\\nThink mechanically: slopes guide gravity, walls channel flow, motors provide energy.\\n-->\\n\\n## 1. Solution Overview\\n\\n<!--\\nDescribe your mechanical solution strategy in 2-3 sentences.\\nFocus on the CORE MECHANISM that guides the moved_object to the goal_zone.\\n\\nEXAMPLE (Ball-to-Funnel Problem):\\n> A sloped ramp guides the ball from the spawn position toward a central funnel.\\n> The funnel narrows to channel the ball precisely into the goal zone below.\\n> Side walls prevent escape paths and ensure robust capture across jitter variations.\\n-->\\n\\n- **Core Mechanism**: [e.g., Gravity-fed ramp with funnel collection]\\n- **Key Principle**: [e.g., Potential energy conversion, channeled flow, rotational sorting]\\n- **Robustness Strategy**: [e.g., Wide capture area, tapered guides, retry paths]\\n\\n## 2. Parts List\\n\\n<!--\\nList each part you will create. For EACH part, specify:\\n- Name (used in code as variable)\\n- Approximate dimensions (in mm)\\n- Material (must be compatible...-----------|\\n| Ball bounces off ramp | Medium | High | Add lip at ramp edges, roughen surface |\\n| Ball gets stuck in funnel | Low | High | Increase funnel taper angle to 45\u00b0 |\\n| Cost exceeds budget | Medium | Medium | Use thinner walls (2.5mm vs 3mm) |\\n| Ball escapes via jitter | High | High | Extend capture area beyond jitter range |\\n-->\\n\\n| Risk | Likelihood | Impact | Mitigation |\\n|------|------------|--------|------------|\\n| [risk description] | [Low/Med/High] | [Low/Med/High] | [mitigation strategy] |\\n\\n### Jitter Robustness Check\\n\\n<!--\\nThe moved_object has runtime_jitter and static_randomization.\\nYour solution MUST work across ALL possible spawn variations.\\n\\nCALCULATION:\\n- Spawn position: [X, Y, Z] from objectives.yaml\\n- Runtime jitter: \u00b1[X, Y, Z] mm\\n- Static randomization: [describe any radius/mass variations]\\n\\nYour capture mechanism must cover:\\n- X range: [spawn.X - jitter.X] to [spawn.X + jitter.X]\\n- Y range: [spawn.Y - jitter.Y] to [spawn.Y + jitter.Y]\\n- Z range: [spawn.Z - jitter.Z] to [spawn.Z + jitter.Z]\\n-->\\n\\n- Capture area covers spawn jitter: \u2610 Yes / \u2610 No\\n- Tested edge cases considered: [list which corners/extremes you've accounted for]\\n\"\n\ntests/integration/architecture_p0/test_missing_p0.py:149: AssertionError"
      },
      {
        "name": "test_int_025_events_collection_e2e",
        "classname": "tests.integration.architecture_p0.test_missing_p0",
        "time": 90.668,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_053_temporal_workflow_lifecycle",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 1.539,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_055_s3_artifact_upload_logging",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 0.92,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_054_temporal_failure_path",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 3.846,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_056_s3_upload_failure_retry",
        "classname": "tests.integration.architecture_p0.test_observability",
        "time": 2.09,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_101_physics_backend_selection",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 12.2,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_105_fluid_containment_evaluation",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 4.54,
        "status": "skipped",
        "message": "Skipping Genesis MPM test on CPU due to performance constraints."
      },
      {
        "name": "test_int_106_flow_rate_evaluation",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 2.927,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_112_mujoco_backward_compat",
        "classname": "tests.integration.architecture_p0.test_physics_fluids",
        "time": 5.295,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_005_mandatory_artifacts_gate",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.554,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_006_plan_structure_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.33,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_007_todo_integrity",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.324,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_008_objectives_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.249,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_009_cost_estimation_validation",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.234,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_011_planner_caps_enforcement",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 2.935,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_015_engineer_handover_immutability",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 4.641,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_019_hard_constraints_gates",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.593,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_010_planner_pricing_script_integration",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 2.862,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_018_validate_and_price_integration_gate",
        "classname": "tests.integration.architecture_p0.test_planner_gates",
        "time": 0.34,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.554,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}/assets/{path}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.796,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/traces/{trace_id}/feedback]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 5.097,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/review]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 5.067,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}/electronics/schematic]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.568,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 5.074,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /episodes/{episode_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.773,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[DELETE /episodes/{episode_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.761,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /episodes/{episode_id}/interrupt]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.404,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /benchmark/{session_id}]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 3.199,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /benchmark/{session_id}/objectives]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.866,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /skills/]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.233,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /cots/search]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.207,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /cots/metadata]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.175,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /api/v1/sessions/{session_id}/queue]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 4.06,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[POST /test/episodes]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 5.381,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_api_fuzzing[GET /health]",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.156,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_worker_heavy_fuzz",
        "classname": "tests.integration.architecture_p1.test_api_fuzzing",
        "time": 0.13,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_043_batch_execution_path",
        "classname": "tests.integration.architecture_p1.test_batch_execution",
        "time": 43.456,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_043_batch_execution_path():\n        \"\"\"INT-043: Verify batch job submission and execution isolation.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Submit 2 concurrent jobs\n            tasks = []\n            session_ids = []\n            for i in range(2):\n                session_id = f\"INT-043-batch-{i}-{int(time.time())}\"\n                session_ids.append(session_id)\n                payload = {\n                    \"task\": f\"Batch execution test task {i}\",\n                    \"session_id\": session_id,\n                }\n                tasks.append(\n                    client.post(f\"{CONTROLLER_URL}/agent/run\", json=payload, timeout=10.0)\n                )\n    \n            # 1. Verify all accepted\n            responses = await asyncio.gather(*tasks)\n            episode_ids = []\n            for resp in responses:\n                assert resp.status_code == 202\n                episode_ids.append(resp.json()[\"episode_id\"])\n    \n            assert len(set(episode_ids)) == 2, \"All episode IDs must be unique\"\n    \n            # 2. Verify eventual completion of all\n            # We poll all episodes until they are done or we timeout\n            start_time = time.time()\n            timeout = 300  # seconds\n    \n            while time.time() - start_time < timeout:\n                all_done = True\n                for episode_id in episode_ids:\n>                   status_resp = await client.get(\n                        f\"{CONTROLLER_URL}/episodes/{episode_id}\", timeout=5.0\n                    )  # should be instant because LLMs are mocked.\n\ntests/integration/architecture_p1/test_batch_execution.py:47: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_benchmark_planner_cad_reviewer_path",
        "classname": "tests.integration.architecture_p1.test_benchmark_workflow",
        "time": 0.143,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_benchmark_planner_cad_reviewer_path():\n        \"\"\"\n        INT-031: Benchmark planner -> CAD -> reviewer path\n    \n        Verifies:\n        1. Benchmark generation trigger\n        2. Successful completion of the workflow\n        3. Existence of required artifacts (plan.md, objectives.yaml, Reviews)\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Benchmark Generation\n            prompt = \"Create a simple path planning benchmark with a wall and a goal.\"\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_benchmark_workflow.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_engineering_full_loop",
        "classname": "tests.integration.architecture_p1.test_engineering_loop",
        "time": 0.131,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_engineering_full_loop():\n        \"\"\"\n        INT-033: Engineering full loop (planner/coder/reviewer)\n    \n        Verifies:\n        1. Triggers Engineering Agent on a valid benchmark\n        2. Planner generates plan.md (with budgets) and todo.md\n        3. Coder attempts implementation (producing script.py or similar)\n        4. Reviewer approves/rejects with typed decision\n    \n        Note: Requires a valid benchmark session ID.\n        If we cannot rely on a pre-existing one, we generate one first.\n        \"\"\"\n        async with AsyncClient(\n            base_url=CONTROLLER_URL, timeout=300.0\n        ) as client:  # Longer timeout for full loop\n            # 1. Setup: Generate a Benchmark (or use a mocked ID if testing against mock)\n            # For integration, we generate one.\n            prompt = \"Create a benchmark about stacking blocks.\"\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_engineering_loop.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_benchmark_to_engineer_handoff",
        "classname": "tests.integration.architecture_p1.test_handover",
        "time": 0.107,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_benchmark_to_engineer_handoff():\n        \"\"\"\n        INT-032: Benchmark-to-engineer handoff package\n    \n        Verifies that the Engineer receives (or has access to) the expected bundle:\n        - objectives.yaml\n        - environment geometry metadata\n        - 24-view renders\n        - moving-parts DOFs\n        - runtime jitter metadata\n    \n        This test triggers a benchmark generation and then inspects the produced artifacts\n        to ensure the \"package\" is complete for the Engineer.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Benchmark Generation\n            prompt = \"Create a benchmark with a moving platform.\"  # implies moving parts\n>           resp = await client.post(\n                \"/benchmark/generate\", json={\"prompt\": prompt, \"backend\": \"genesis\"}\n            )\n\ntests/integration/architecture_p1/test_handover.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_render_artifact_generation_int_039",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.098,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_render_artifact_generation_int_039():\n        \"\"\"\n        INT-039: Render Artifact Generation\n        Must verify that the 24-view rendering pipeline produces discoverable artifacts\n        in S3/Storage after an integrated run.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # 1. Trigger Agent Run (or Benchmark Generation)\n            prompt = \"Create a simple cube and simulate it.\"\n            # We use /agent/run for a standard agent flow\n            session_id = f\"INT-039-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_asset_persistence_linkage_int_040",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.098,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_asset_persistence_linkage_int_040():\n        \"\"\"\n        INT-040: Asset Persistence Linkage\n        Must verify that all final episode assets (scripts, renders, MJCF, video)\n        are correctly linked in the DB and stored in S3.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Trigger a run\n            session_id = f\"INT-040-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\",\n                json={\n                    \"task\": \"Create a part named 'linkage_test' and simulate.\",\n                    \"session_id\": session_id,\n                },\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_mjcf_joint_mapping_int_037",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.245,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_mjcf_joint_mapping_int_037():\n        \"\"\"\n        INT-037: MJCF Joint Mapping\n        Must verify that produced MJCF artifacts from a real run have the correct joint/actuator mappings.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # We use a prompt that should result in a jointed assembly\n            session_id = f\"INT-037-{uuid.uuid4().hex[:8]}\"\n            prompt = \"\"\"Create a simple door: a 'frame' and a 'panel'.\n            The 'panel' should be attached to the 'frame' with a RevoluteJoint.\n            Then simulate.\"\"\"\n    \n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:117: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_controller_function_family_int_038",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.099,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_controller_function_family_int_038():\n        \"\"\"\n        INT-038: Controller Function Family\n        Verify that different controller modes execute correctly in a real simulation.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Prompt for a sinusoidal controller\n            prompt = (\n                \"Create a part that oscillates sinusoidally using the dynamic controller.\"\n            )\n            session_id = f\"INT-038-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\", json={\"task\": prompt, \"session_id\": session_id}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:162: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_temporal_recovery_int_041",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_temporal_recovery_int_041():\n        \"\"\"\n        INT-041: Container Preemption Recovery Path (Temporal)\n        Verify that Temporal workflows are registered and can be triggered.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            # Trigger an operations workflow (Backup) which uses Temporal\n            # This requires a secret, which defaults to 'change-me-in-production' in dev\n>           resp = await client.post(\n                \"/ops/backup\", headers={\"X-Backup-Secret\": \"change-me-in-production\"}\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_async_callbacks_int_042",
        "classname": "tests.integration.architecture_p1.test_infrastructure",
        "time": 0.099,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_async_callbacks_int_042():\n        \"\"\"\n        INT-042: Async Callbacks/Webhook Completion Path\n        Verify that episodes transition status correctly through async execution.\n        \"\"\"\n        async with AsyncClient(base_url=CONTROLLER_URL, timeout=300.0) as client:\n            session_id = f\"INT-042-{uuid.uuid4().hex[:8]}\"\n>           resp = await client.post(\n                \"/agent/run\",\n                json={\"task\": \"Just say hello and finish.\", \"session_id\": session_id},\n            )\n\ntests/integration/architecture_p1/test_infrastructure.py:215: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_064_cots_metadata",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.097,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_064_cots_metadata():\n        \"\"\"INT-064: COTS reproducibility metadata persistence.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Fetch metadata\n>           resp = await client.get(f\"{CONTROLLER_URL}/cots/metadata\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p1/test_int_064_to_069.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_065_skills_safety",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.125,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_066_fluid_electronics_coupling",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.101,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_066_fluid_electronics_coupling():\n        \"\"\"INT-066: Fluid-on-electronics failure coupling.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-066-{int(time.time())}\"\n    \n            # Create a scene with fluid and a part marked as electronics\n            objectives_content = \"\"\"\n    physics:\n      backend: \"genesis\"\n    objectives:\n      goal_zone: {min: [0.5,0.5,0.5], max: [0.6,0.6,0.6]}\n      build_zone: {min: [-1,-1,-1], max: [1,1,1]}\n    simulation_bounds: {min: [-1,-1,-1], max: [1,1,1]}\n    moved_object: {label: \"obj\", shape: \"sphere\", start_position: [0,0,0], runtime_jitter: [0,0,0]}\n    \n    constraints: {max_unit_cost: 100, max_weight_g: 1000}\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"objectives.yaml\", \"content\": objectives_content},\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p1/test_int_064_to_069.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_067_068_steerability",
        "classname": "tests.integration.architecture_p1.test_int_064_to_069",
        "time": 0.112,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p1\n    @pytest.mark.asyncio\n    async def test_int_067_068_steerability():\n        \"\"\"INT-067 & INT-068: Steerability payload and code references.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Create a dummy episode\n            task = \"Test steerability\"\n>           resp = await client.post(\n                f\"{CONTROLLER_URL}/test/episodes\",\n                json={\"task\": task, \"session_id\": \"test-steer-123\"},\n            )\n\ntests/integration/architecture_p1/test_int_064_to_069.py:174: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T19:39:28.028909",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 515.978,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.711,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 35.257,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 21.276,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 139.522,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_164.py:37: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 141.712,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_165.py:39: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 136.089,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_166.py:37: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T19:52:26.371993",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 512.407,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.571,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.518,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 17.462,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 140.45,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_164.py:37: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 139.912,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_165.py:39: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 139.366,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_166.py:37: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:08:05.668215",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 511.24,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.97,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.473,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 18.455,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 138.291,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_164.py:37: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 138.572,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_165.py:39: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 140.301,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_166.py:37: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:15:07.561923",
    "status": "failed",
    "total": 5,
    "passed": 2,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 193.356,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 1.134,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:250: in handle_request\n    resp = self._pool.handle_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:256: in handle_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:236: in handle_request\n    response = connection.handle_request(\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection.py:101: in handle_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection.py:78: in handle_request\n    stream = self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_sync/connection.py:124: in _connect\n    stream = self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/sync.py:207: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: [Errno 111] Connection refused\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\npage = <Page url='about:blank'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n>           resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n\ntests/integration/frontend/p0/test_frontend_p0.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:249: in handle_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: [Errno 111] Connection refused\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.059,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.353,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 36.78,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 62.842,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Test Topology Browser Toggle\n        topology_toggle = page.get_by_title(\"Toggle Model Browser\")\n        expect(topology_toggle).to_be_visible(timeout=30000)\n    \n        # Check if Model Browser is visible (it should be by default)\n        model_browser = page.locator(\".w-72.shrink-0.z-20\")  # ModelBrowser class\n        expect(model_browser).to_be_visible(timeout=30000)\n    \n        # Toggle it off\n        topology_toggle.click()\n        expect(model_browser).not_to_be_visible(timeout=30000)\n    \n        # Toggle it back on\n        topology_toggle.click()\n        expect(model_browser).to_be_visible(timeout=30000)\n    \n        # 9. Test Selection Modes\n        face_selection = page.get_by_title(\"Face Selection\")\n        part_selection = page.get_by_title(\"Part Selection\")\n        subassembly_selection = page.get_by_title(\"Subassembly Selection\")\n    \n        expect(face_selection).to_be_visible()\n        expect(part_selection).to_be_visible()\n        expect(subassembly_selection).to_be_visible()\n    \n        # Click Face Selection\n>       face_selection.click()\n\ntests/integration/frontend/test_int_165.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x794d27deb620>\ncb = <function Channel.send.<locals>.<lambda> at 0x794d08c43ec0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_title(\"Face Selection\")\nE               - locator resolved to <button title=\"Face Selection\" class=\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-7 w-7 rounded-full\">\u2026</button>\nE             - attempting click action\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE               - retrying click action\nE               - waiting 20ms\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE               - retrying click action\nE                 - waiting 100ms\nE               25 \u00d7 waiting for element to be visible, enabled and stable\nE                  - element is visible, enabled and stable\nE                  - scrolling into view if needed\nE                  - done scrolling\nE                  - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE                - retrying click action\nE                  - waiting 500ms\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:15:32.103162",
    "status": "failed",
    "total": 18,
    "passed": 3,
    "failed": 15,
    "skipped": 0,
    "errors": 0,
    "duration": 172.428,
    "tests": [
      {
        "name": "test_int_001_compose_boot_health_contract",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.23,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 100.662,
        "status": "failed",
        "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_002_controller_worker_execution_boundary():\n        \"\"\"INT-002: Verify controller-worker handoff and execution status.\"\"\"\n        session_id = f\"INT-002-{int(time.time())}\"\n        task = \"Build a simple box of 10x10x10mm.\"\n    \n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Trigger agent run\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": task, \"session_id\": session_id},\n                timeout=600.0,\n            )\n            assert resp.status_code == 202\n            episode_id = resp.json()[\"episode_id\"]\n    \n            # Poll for status with increased timeout\n            max_attempts = 120\n            completed = False\n            for _ in range(max_attempts):\n                await asyncio.sleep(10.0)\n                # 20 minutes?\n                s_resp = await client.get(f\"{CONTROLLER_URL}/episodes/{episode_id}\")\n                status = s_resp.json()[\"status\"]\n                if status == \"completed\":\n                    completed = True\n                    break\n                if status == \"failed\":\n>                   pytest.fail(f\"Agent failed: {s_resp.text}\")\nE                   Failed: Agent failed: {\"id\":\"83ae1ec7-5400-45e2-9772-b6696b5f31f0\",\"task\":\"Build a simple box of 10x10x10mm.\",\"status\":\"failed\",\"created_at\":\"2026-02-24T20:13:10.954475\",\"updated_at\":\"2026-02-24T20:14:42.598181\",\"skill_git_hash\":null,\"template_versions\":null,\"metadata_vars\":{\"worker_session_id\":\"INT-002-1771963990\",\"custom_objectives\":null,\"detailed_status\":null,\"error\":null,\"variant_id\":null,\"seed\":null,\"prior_episode_id\":null,\"is_optimality_check\":null,\"fidelity_check\":null,\"tolerance\":null,\"is_reused\":null,\"episode_type\":\"engineer\",\"validation_logs\":[],\"prompt\":null,\"plan\":null,\"additional_info\":{}},\"todo_list\":null,\"journal\":null,\"plan\":\"Agent completed task: Build a simple box of 10x10x10mm.\\n\\nResult: Skills update: Skills identified....\",\"validation_logs\":[],\"traces\":[{\"id\":1,\"langfuse_trace_id\":\"0bb0b3f5a6ed4e93b4d3ea2d04385699\",\"trace_type\":\"log\",\"name\":null,\"content\":\"Agent starting execution for task: Build a simple box of 10x10x10mm.\",\"metadata_vars\":{\"task\":\"Build a simple box of 10x10x10mm.\"},\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:11.066257\"},{\"id\":2,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:11.378341\"},{\"id\":3,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:11.978660\"},{\"id\":4,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:13.169129\"},{\"id\":5,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:13.520063\"},{\"id\":6,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:14.890619\"},{\"id\":7,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:14.921698\"},{\"id\":8,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:16.230237\"},{\"id\":9,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:16.597119\"},{\"id\":10,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:17.835600\"},{\"id\":11,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:18.208056\"},{\"id\":12,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:19.454532\"},{\"id\":13,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:19.496194\"},{\"id\":14,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:20.715790\"},{\"id\":15,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:21.085835\"},{\"id\":16,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:22.337124\"},{\"id\":17,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:22.769621\"},{\"id\":18,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:24.017746\"},{\"id\":19,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:24.053818\"},{\"id\":21,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:25.473012\"},{\"id\":24,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:25.810817\"},{\"id\":25,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:27.030537\"},{\"id\":26,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:27.409442\"},{\"id\":27,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:28.640434\"},{\"id\":28,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:28.682467\"},{\"id\":29,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:29.934660\"},{\"id\":30,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:30.407716\"},{\"id\":31,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:31.867718\"},{\"id\":32,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:32.313628\"},{\"id\":33,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:33.603746\"},{\"id\":34,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:33.649869\"},{\"id\":35,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:34.881069\"},{\"id\":36,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:35.273305\"},{\"id\":37,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:36.501628\"},{\"id\":38,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:36.871837\"},{\"id\":39,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:38.093779\"},{\"id\":40,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:38.131859\"},{\"id\":41,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:39.364536\"},{\"id\":42,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:39.750382\"},{\"id\":43,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:40.989871\"},{\"id\":59,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:51.554694\"},{\"id\":60,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:51.580743\"},{\"id\":61,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:52.797329\"},{\"id\":62,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:53.143874\"},{\"id\":63,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:54.376790\"},{\"id\":64,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:54.721282\"},{\"id\":65,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:55.972843\"},{\"id\":66,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:56.008862\"},{\"id\":73,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:01.703864\"},{\"id\":74,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:02.013663\"},{\"id\":44,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:41.359935\"},{\"id\":45,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:42.604269\"},{\"id\":46,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:42.643047\"},{\"id\":47,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:43.850809\"},{\"id\":48,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:44.210921\"},{\"id\":49,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:45.451425\"},{\"id\":50,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:45.794011\"},{\"id\":53,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:47.068138\"},{\"id\":54,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:47.109884\"},{\"id\":55,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:48.357258\"},{\"id\":56,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:48.729546\"},{\"id\":57,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:49.963558\"},{\"id\":58,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:50.313605\"},{\"id\":67,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:57.250523\"},{\"id\":68,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:57.608731\"},{\"id\":69,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:58.826052\"},{\"id\":70,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:13:59.190396\"},{\"id\":71,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:00.444023\"},{\"id\":72,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:00.486137\"},{\"id\":75,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:03.202756\"},{\"id\":76,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:03.583191\"},{\"id\":77,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:04.816922\"},{\"id\":78,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:04.863072\"},{\"id\":79,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:06.031616\"},{\"id\":80,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:06.315068\"},{\"id\":81,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:07.601397\"},{\"id\":82,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:07.984275\"},{\"id\":83,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:09.234001\"},{\"id\":84,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:09.278279\"},{\"id\":85,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:10.553480\"},{\"id\":86,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:10.957020\"},{\"id\":87,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:12.214339\"},{\"id\":88,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:12.564592\"},{\"id\":89,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:13.793496\"},{\"id\":90,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:13.836288\"},{\"id\":91,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:15.060621\"},{\"id\":92,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:15.435544\"},{\"id\":93,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:16.659774\"},{\"id\":94,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:17.032673\"},{\"id\":95,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:18.308589\"},{\"id\":96,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:18.348569\"},{\"id\":97,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:19.569803\"},{\"id\":98,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:19.951918\"},{\"id\":99,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:21.283836\"},{\"id\":100,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:22.010735\"},{\"id\":103,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:23.238574\"},{\"id\":105,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:24.491267\"},{\"id\":106,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:24.823785\"},{\"id\":108,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:26.713822\"},{\"id\":109,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:27.947307\"},{\"id\":111,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:29.224111\"},{\"id\":112,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:29.596695\"},{\"id\":114,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:31.171152\"},{\"id\":115,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:32.402298\"},{\"id\":118,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:34.060070\"},{\"id\":119,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:35.289218\"},{\"id\":121,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:36.933935\"},{\"id\":122,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:36.962082\"},{\"id\":124,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Completed task phase: planner. Result: Prediction(\\n    trajectory={'thought_0': 'Generating INT-002 plan.', 'tool_name_0': 'execute_command...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:38.524920\"},{\"id\":125,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:39.750601\"},{\"id\":128,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:41.390657\"},{\"id\":129,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"skill_learner\",\"content\":\"Starting task phase: skill_learner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:42.542292\"},{\"id\":104,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:23.282409\"},{\"id\":107,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:26.046439\"},{\"id\":110,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:27.995140\"},{\"id\":113,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Starting task phase: electronics_planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:30.809113\"},{\"id\":116,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Completed task phase: plan_reviewer. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:32.439916\"},{\"id\":117,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:33.664734\"},{\"id\":120,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:35.687967\"},{\"id\":123,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"planner\",\"content\":\"Starting task phase: planner. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:38.179844\"},{\"id\":126,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"electronics_planner\",\"content\":\"Completed task phase: electronics_planner. Result: Prediction(\\n    trajectory={'thought_0': 'Adding electronics plan for INT-002.', 'tool_name_0': 'exe...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:40.116394\"},{\"id\":127,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"plan_reviewer\",\"content\":\"Starting task phase: plan_reviewer. Input: Build a simple box of 10x10x10mm....\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:41.358179\"},{\"id\":130,\"langfuse_trace_id\":null,\"trace_type\":\"log\",\"name\":\"skill_learner\",\"content\":\"Completed task phase: skill_learner. Result: Prediction(\\n    trajectory={'thought_0': 'Task in progress.', 'tool_name_0': 'finish', 'tool_args_0'...\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:42.575781\"},{\"id\":131,\"langfuse_trace_id\":\"0bb0b3f5a6ed4e93b4d3ea2d04385699\",\"trace_type\":\"log\",\"name\":null,\"content\":\"Agent finished execution: Skills update: Skills identified....\",\"metadata_vars\":{\"output\":\"Skills update: Skills identified.\"},\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:42.584532\"},{\"id\":132,\"langfuse_trace_id\":\"0bb0b3f5a6ed4e93b4d3ea2d04385699\",\"trace_type\":\"llm_end\",\"name\":null,\"content\":\"Skills update: Skills identified.\",\"metadata_vars\":null,\"feedback_score\":null,\"feedback_comment\":null,\"created_at\":\"2026-02-24T20:14:42.586162\"}],\"assets\":[]}\n\ntests/integration/architecture_p0/test_architecture_p0.py:78: Failed"
      },
      {
        "name": "test_int_003_session_filesystem_isolation",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.188,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_004_simulation_serialization",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 35.62,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_020_simulation_failure_taxonomy",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.116,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_020_simulation_failure_taxonomy():\n        \"\"\"INT-020: Verify simulation success/failure taxonomy.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-020-{int(time.time())}\"\n    \n            # 1. Setup minimal objectives.yaml that defines a goal and forbid zone\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [10.5, 10.5, 10.5]\n        max: [12.5, 12.5, 12.5]\n      forbid_zones:\n        - name: \"zone_forbid_test\"\n          min: [2.5, 2.5, 2.5]\n          max: [4.5, 4.5, 4.5]\n      build_zone:\n        min: [0.5, 0.5, 0.5]\n        max: [20.5, 20.5, 20.5]\n    simulation_bounds:\n        min: [-20.5, -20.5, -20.5]\n        max: [20.5, 20.5, 20.5]\n    moved_object:\n        label: \"target_box\"\n        shape: \"sphere\"\n        start_position: [3.5, 3.5, 3.5]\n        runtime_jitter: [0.0, 0.0, 0.0]\n    constraints:\n        max_unit_cost: 20.5\n        max_weight_g: 10.5\n    \"\"\"\n    \n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:220: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_021_runtime_randomization_robustness",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.107,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_021_runtime_randomization_robustness():\n        \"\"\"INT-021: Verify runtime randomization robustness (multi-seed).\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-021-{int(time.time())}\"\n    \n            # Write objectives.yaml so simulation can check goals\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [-10, -10, -10]\n        max: [10, 10, 10]\n      forbid_zones: []\n      build_zone:\n        min: [-20, -20, -20]\n        max: [20, 20, 20]\n    simulation_bounds:\n        min: [-20, -20, -20]\n        max: [20, 20, 20]\n    moved_object:\n        label: \"target_box\"\n        shape: \"sphere\"\n        start_position: [0, 0, 0.5]\n        runtime_jitter: [0.1, 0.1, 0]\n    constraints:\n        max_unit_cost: 20\n        max_weight_g: 10\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:342: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_022_motor_overload_behavior",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.101,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nworker_light_client = <httpx.AsyncClient object at 0x70e38a828b00>\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_022_motor_overload_behavior(worker_light_client):\n        \"\"\"INT-022: Verify motor overload detection.\"\"\"\n        client = worker_light_client\n        session_id = f\"test-int-022-{int(time.time())}\"\n    \n        script_path = Path(\"tests/integration/architecture_p0/scripts/verify_overload.py\")\n        with script_path.open() as f:\n            script_content = f.read()\n    \n>       await client.post(\n            \"/fs/write\",\n            json={\"path\": \"verify_overload.py\", \"content\": script_content},\n            headers={\"X-Session-ID\": session_id},\n        )\n\ntests/integration/architecture_p0/test_architecture_p0.py:413: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_023_fastener_validity_rules",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 0.107,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_023_fastener_validity_rules():\n        \"\"\"INT-023: Verify fastener validity rules.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"test-int-023-{int(time.time())}\"\n    \n            # Script with INVALID hole (e.g. asking for M3 but hole logic fails?)\n            # Actually `fastener_hole` raises ValueError if size unknown.\n            # But if we want to check geometric validity?\n            # `validate` function checks interactions.\n            # But `fastener_hole` creates RigidJoint.\n    \n            # Let's verify that a valid fastener hole is created and validated.\n            script_valid = \"\"\"\n    from build123d import *\n    from shared.models.schemas import PartMetadata\n    from worker_heavy.utils.cad import fastener_hole, HoleType\n    \n    def build():\n        # Minimal boolean script to see if it crashes worker\n        p1 = Box(10, 10, 10)\n        p2 = Cylinder(2, 20).move(Location((0,0,0)))\n        res = p1.cut(p2)\n        res.label = \"valid_part\"\n        res.metadata = PartMetadata(material_id=\"aluminum_6061\", fixed=True)\n        return res\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\"path\": \"valid_hole.py\", \"content\": script_valid},\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_architecture_p0.py:469: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_012_013_cots_search_contract_and_readonly",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.111,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-012-49c7f519'\nbase_headers = {'X-Session-ID': 'INT-012-49c7f519'}\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_012_013_cots_search_contract_and_readonly(session_id, base_headers):\n        \"\"\"INT-012, INT-013: Verify COTS search output contract and read-only behavior.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # COTS subagent or tool is usually invoked via a runtime script or endpoint.\n            # Let's test via the COTS indexer/search endpoint if available,\n            # or via a subagent call if the controller exposes it.\n    \n            # Scenario: Query for a common part\n            query = \"M3 screw\"\n>           resp = await client.get(f\"{CONTROLLER_URL}/cots/search\", params={\"q\": query})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_cots_reviewer.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_016_reviewer_decision_schema_gate",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.15,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-016-6351915a'\nbase_headers = {'X-Session-ID': 'INT-012-d826cbd2'}\ncontroller_client = <httpx.AsyncClient object at 0x70e38a17cad0>\nworker_heavy_client = <httpx.AsyncClient object at 0x70e38a17cf80>\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_016_reviewer_decision_schema_gate(\n        session_id, base_headers, controller_client, worker_heavy_client\n    ):\n        \"\"\"INT-016: Verify reviewer rejects malformed frontmatter decisions.\"\"\"\n        # Use controller_client fixture\n        client = controller_client\n    \n        # Create a real episode first\n        session_id = f\"INT-016-{uuid.uuid4().hex[:8]}\"\n>       run_resp = await client.post(\n            \"/agent/run\",\n            json={\"task\": \"Test Review Schema\", \"session_id\": session_id},\n        )\n\ntests/integration/architecture_p0/test_cots_reviewer.py:80: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_017_plan_refusal_loop",
        "classname": "tests.integration.architecture_p0.test_cots_reviewer",
        "time": 0.109,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nsession_id = 'INT-017-216d0015'\nbase_headers = {'X-Session-ID': 'INT-012-bd5aedd3'}\ncontroller_client = <httpx.AsyncClient object at 0x70e38a17fe90>\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_017_plan_refusal_loop(session_id, base_headers, controller_client):\n        \"\"\"INT-017: Verify plan refusal loop (rejection leads to FAILED state).\"\"\"\n        # Use controller_client fixture\n        client = controller_client\n    \n        # 1. Start agent run\n        session_id = f\"INT-017-{uuid.uuid4().hex[:8]}\"\n>       run_resp = await client.post(\n            \"/agent/run\",\n            json={\"task\": \"Test Refusal Loop\", \"session_id\": session_id},\n        )\n\ntests/integration/architecture_p0/test_cots_reviewer.py:123: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_026_mandatory_event_families",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.109,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_026_mandatory_event_families():\n        \"\"\"INT-026: Verify mandatory event families are emitted in a real run.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-026-{uuid.uuid4().hex[:8]}\"\n    \n            # 1. Setup objectives.yaml\n            objectives_content = \"\"\"\n    objectives:\n      goal_zone:\n        min: [8, 8, 8]\n        max: [12, 12, 12]\n      build_zone:\n        min: [0, 0, 0]\n        max: [20, 20, 20]\n    simulation_bounds:\n        min: [-10, -10, -10]\n        max: [30, 30, 30]\n    moved_object:\n        label: \"test_obj\"\n        shape: \"sphere\"\n        start_position: [0, 0, 5]\n        runtime_jitter: [0, 0, 0]\n    constraints:\n        max_unit_cost: 100\n        max_weight_g: 10\n    \"\"\"\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"objectives.yaml\",\n                    \"content\": objectives_content,\n                    \"overwrite\": True,\n                },\n                headers={\"X-Session-ID\": session_id},\n            )\n\ntests/integration/architecture_p0/test_int_026_030.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_027_seed_variant_tracking",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.114,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_027_seed_variant_tracking():\n        \"\"\"INT-027: Verify DB persistence of variant_id and seed from the API response.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_id = f\"INT-027-{uuid.uuid4().hex[:8]}\"\n            variant_id = \"test-variant-027\"\n            seed = 42\n    \n            # 1. Start an episode with seed and variant_id in metadata_vars\n            payload = {\n                \"task\": \"Test seed and variant tracking\",\n                \"session_id\": session_id,\n                \"metadata_vars\": {\n                    \"variant_id\": variant_id,\n                    \"seed\": seed,\n                },\n            }\n>           resp = await client.post(f\"{CONTROLLER_URL}/agent/run\", json=payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_028_strict_api_schema_contract",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.109,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_028_strict_api_schema_contract():\n        \"\"\"INT-028: Verify OpenAPI schema validity and live responses.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Controller OpenAPI\n>           resp = await client.get(f\"{CONTROLLER_URL}/openapi.json\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:148: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_029_api_key_enforcement",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.125,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\ncontroller_client = <httpx.AsyncClient object at 0x70e38a17cd40>\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_029_api_key_enforcement(controller_client):\n        \"\"\"INT-029: Verify API key enforcement on protected endpoints.\"\"\"\n        # Assuming /ops/backup is our protected endpoint for now\n        # Use controller_client fixture which handles in-process fallback\n        client = controller_client\n    \n        # No key\n>       resp = await client.post(\"/ops/backup\")\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:199: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_030_interrupt_propagation",
        "classname": "tests.integration.architecture_p0.test_int_026_030",
        "time": 0.118,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_030_interrupt_propagation():\n        \"\"\"INT-030: Verify user interrupt cancels worker jobs.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # 1. Start a task that takes some time (e.g. simulation or agent run)\n            # We'll use agent/run for now as it's the main entry point.\n            session_id = f\"INT-030-{uuid.uuid4().hex[:8]}\"\n            payload = {\n                \"task\": \"Perform a very complex multi-step reasoning task that involves writing a large script with at least 50 different parts and complex joints, explain each step in detail, and perform a deep analysis of the physics constraints for each component. Do NOT skip any details.\",\n                \"session_id\": session_id,\n            }\n>           resp = await client.post(f\"{CONTROLLER_URL}/agent/run\", json=payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_026_030.py:237: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_061_asset_serving_security",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.11,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_061_asset_serving_security():\n        \"\"\"INT-061: Asset serving security + session isolation contract.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            session_a = f\"test-61-a-{int(time.time())}\"\n            session_b = f\"test-61-b-{int(time.time())}\"\n    \n            # 1. Setup session A with a valid python file and an asset\n>           await client.post(\n                f\"{WORKER_LIGHT_URL}/fs/write\",\n                json={\n                    \"path\": \"part.py\",\n                    \"content\": \"import build123d\\ndef build(): return None\",\n                },\n                headers={\"X-Session-ID\": session_a},\n            )\n\ntests/integration/architecture_p0/test_int_061_063.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1859: in post\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      },
      {
        "name": "test_int_062_worker_openapi_contract",
        "classname": "tests.integration.architecture_p0.test_int_061_063",
        "time": 0.117,
        "status": "failed",
        "message": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:256: in handle_async_request\n    raise exc from None\n.venv/lib/python3.12/site-packages/httpcore/_async/connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:101: in handle_async_request\n    raise exc\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_async/connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpcore/_backends/auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\n.venv/lib/python3.12/site-packages/httpcore/_backends/anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_int_062_worker_openapi_contract():\n        \"\"\"INT-062: Split-worker OpenAPI artifact contract.\"\"\"\n        async with httpx.AsyncClient(timeout=300.0) as client:\n            # Check Worker Light OpenAPI\n>           resp = await client.get(f\"{WORKER_LIGHT_URL}/openapi.json\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/integration/architecture_p0/test_int_061_063.py:86: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/httpx/_client.py:1768: in get\n    return await self.request(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1629: in send\n    response = await self._send_handling_auth(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\n.venv/lib/python3.12/site-packages/httpx/_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\n/usr/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: All connection attempts failed\n\n.venv/lib/python3.12/site-packages/httpx/_transports/default.py:118: ConnectError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:20:00.577973",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 37.078,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 36.879,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/'>\n\n    @pytest.mark.integration_frontend\n    def test_int_157_session_history(page: Page):\n        \"\"\"\n        INT-157: Sidebar lists sessions from live API; selecting a session opens\n        the correct benchmark/solution workflow with matching episode context.\n        \"\"\"\n        unique_id = str(uuid.uuid4())[:8]\n        benchmark_name = f\"Benchmark-{unique_id}\"\n        engineer_name = f\"Engineer-{unique_id}\"\n    \n        # 1. Create a benchmark session and an engineer session via API\n        with httpx.Client() as client:\n            # Create benchmark session\n            resp_b = client.post(\n                f\"{CONTROLLER_URL}/benchmark/generate\", json={\"prompt\": benchmark_name}\n            )\n            assert resp_b.status_code == 200\n            benchmark_id = resp_b.json()[\"session_id\"]\n    \n            # Create engineer session\n            resp_e = client.post(\n                f\"{CONTROLLER_URL}/agent/run\",\n                json={\"task\": engineer_name, \"session_id\": str(uuid.uuid4())},\n            )\n            assert resp_e.status_code == 202\n            engineer_id = resp_e.json()[\"episode_id\"]\n    \n        # 2. Poll until both episodes are available via the API\n        max_retries = 30\n        episodes_found = False\n        with httpx.Client(timeout=10.0) as client:\n            for i in range(max_retries):\n                resp = client.get(f\"{CONTROLLER_URL}/episodes/\")\n                if resp.status_code == 200:\n                    ep_ids = [ep[\"id\"] for ep in resp.json()]\n                    if benchmark_id in ep_ids and engineer_id in ep_ids:\n                        episodes_found = True\n                        break\n                import time\n    \n                time.sleep(1)\n    \n        assert episodes_found, (\n            f\"Episodes {benchmark_id} and {engineer_id} did not appear in API\"\n        )\n    \n        # 3. Navigate to frontend\n        page.goto(FRONTEND_URL)\n        page.wait_for_load_state(\"networkidle\")\n    \n        # 4. Verify both sessions appear in sidebar\n>       expect(page.get_by_text(benchmark_name)).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"Benchmark-ad751f5a\")\n\ntests/integration/frontend/p0/test_frontend_p0.py:64: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:22:30.555293",
    "status": "passed",
    "total": 1,
    "passed": 1,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 9.61,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 9.519,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:24:52.566294",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 38.321,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 38.079,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:33:29.639602",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 130.377,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 130.221,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n>       expect(confirm_button).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_role(\"button\", name=\"Confirm & Start\")\n\ntests/integration/frontend/test_int_164.py:33: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:36:53.790334",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 15.242,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 15.078,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:38:36.198022",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 17.46,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 17.315,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:39:49.143300",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 12.799,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 12.649,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:42:36.002939",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 16.692,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 16.546,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:43:59.881234",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 17.187,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 17.04,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:45:26.934895",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 15.383,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 15.223,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T20:47:42.713595",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 18.01,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 17.869,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T21:46:39.347105",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 196.289,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 6.91,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 28.852,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.732,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 20.548,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n>       expect(script_file).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_text(\"script.py\")\n\ntests/integration/frontend/test_int_164.py:42: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 47.372,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Test Topology Browser Toggle\n        topology_toggle = page.get_by_title(\"Toggle Model Browser\")\n        expect(topology_toggle).to_be_visible(timeout=30000)\n    \n        # Check if Model Browser is visible (it should be by default)\n        model_browser = page.locator(\".w-72.shrink-0.z-20\")  # ModelBrowser class\n        expect(model_browser).to_be_visible(timeout=30000)\n    \n        # Toggle it off\n        topology_toggle.click()\n        expect(model_browser).not_to_be_visible(timeout=30000)\n    \n        # Toggle it back on\n        topology_toggle.click()\n        expect(model_browser).to_be_visible(timeout=30000)\n    \n        # 9. Test Selection Modes\n        face_selection = page.get_by_title(\"Face Selection\")\n        part_selection = page.get_by_title(\"Part Selection\")\n        subassembly_selection = page.get_by_title(\"Subassembly Selection\")\n    \n        expect(face_selection).to_be_visible()\n        expect(part_selection).to_be_visible()\n        expect(subassembly_selection).to_be_visible()\n    \n        # Click Face Selection\n>       face_selection.click()\n\ntests/integration/frontend/test_int_165.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x74e27b1c3770>\ncb = <function Channel.send.<locals>.<lambda> at 0x74e25c25f7e0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_title(\"Face Selection\")\nE               - locator resolved to <button title=\"Face Selection\" class=\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-7 w-7 rounded-full\">\u2026</button>\nE             - attempting click action\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE               - retrying click action\nE               - waiting 20ms\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE               - retrying click action\nE                 - waiting 100ms\nE               27 \u00d7 waiting for element to be visible, enabled and stable\nE                  - element is visible, enabled and stable\nE                  - scrolling into view if needed\nE                  - done scrolling\nE                  - <button class=\"inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm h-8 rounded-md px-3 text-xs w-full gap-2 border-primary/50 text-primary hover:bg-primary/10 hover:text-primary\">\u2026</button> from <div>\u2026</div> subtree intercepts pointer events\nE                - retrying click action\nE                  - waiting 500ms\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 49.545,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # 8. Test Simulation Controls\n        # Play button\n        play_button = page.locator(\"button:has(svg.lucide-play)\")\n        expect(play_button).to_be_visible(timeout=30000)\n>       play_button.click()\n\ntests/integration/frontend/test_int_166.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x74e27b1c3770>\ncb = <function Channel.send.<locals>.<lambda> at 0x74e25c3719e0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"button:has(svg.lucide-play)\")\nE               - locator resolved to <button class=\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8 text-primary shrink-0\">\u2026</button>\nE             - attempting click action\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <div class=\"absolute inset-0 flex items-center justify-center pointer-events-auto\">\u2026</div> intercepts pointer events\nE               - retrying click action\nE               - waiting 20ms\nE               2 \u00d7 waiting for element to be visible, enabled and stable\nE                 - element is visible, enabled and stable\nE                 - scrolling into view if needed\nE                 - done scrolling\nE                 - <div class=\"absolute inset-0 flex items-center justify-center pointer-events-auto\">\u2026</div> intercepts pointer events\nE               - retrying click action\nE                 - waiting 100ms\nE               26 \u00d7 waiting for element to be visible, enabled and stable\nE                  - element is visible, enabled and stable\nE                  - scrolling into view if needed\nE                  - done scrolling\nE                  - <div class=\"absolute inset-0 flex items-center justify-center pointer-events-auto\">\u2026</div> intercepts pointer events\nE                - retrying click action\nE                  - waiting 500ms\nE               - waiting for element to be visible, enabled and stable\nE               - element is visible, enabled and stable\nE               - scrolling into view if needed\nE               - done scrolling\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:02:50.161233",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 206.192,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.574,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.969,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 9.634,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 40.34,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 40.445,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 42.229,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:14:39.366138",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 228.594,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.701,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.246,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.84,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 49.308,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 49.472,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 41.221,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:21:16.391443",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 215.86,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.574,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.967,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 9.489,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 48.671,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 39.88,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 41.276,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:27:36.886736",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 226.533,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.893,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.107,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 8.946,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.718,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 49.794,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 45.914,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:31:45.157078",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 45.818,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.634,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:34:19.341898",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 41.384,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 41.202,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:37:31.702583",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 46.592,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 46.434,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:42:09.429524",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 46.126,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.97,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-24T22:44:34.005658",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 46.644,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 46.483,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:16:21.753818",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 43.173,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 42.99,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:19:18.533397",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 46.703,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 46.518,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:22:26.062092",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 48.216,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 48.019,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:27:21.130523",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 47.011,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 46.813,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:32:04.141812",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 128.906,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 128.709,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n>       expect(confirm_button).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_role(\"button\", name=\"Confirm & Start\")\n\ntests/integration/frontend/test_int_164.py:33: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:36:44.342626",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 128.523,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 128.343,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n>       expect(confirm_button).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_role(\"button\", name=\"Confirm & Start\")\n\ntests/integration/frontend/test_int_164.py:33: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:46:21.685740",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 217.857,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.267,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 22.652,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.358,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.513,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 45.435,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 49.278,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T05:56:05.816506",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 209.021,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.459,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.553,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.449,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 39.253,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 39.007,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 45.479,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T06:03:17.359276",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 243.513,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 7.428,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 29.079,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 15.815,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 50.734,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 51.227,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 50.943,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T06:07:23.095009",
    "status": "passed",
    "total": 1,
    "passed": 1,
    "failed": 0,
    "skipped": 0,
    "errors": 0,
    "duration": 80.947,
    "tests": [
      {
        "name": "test_int_002_controller_worker_execution_boundary",
        "classname": "tests.integration.architecture_p0.test_architecture_p0",
        "time": 80.881,
        "status": "passed",
        "message": null
      }
    ]
  },
  {
    "timestamp": "2026-02-25T06:12:41.344473",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 47.631,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 47.46,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T06:28:21.717443",
    "status": "failed",
    "total": 6,
    "passed": 3,
    "failed": 3,
    "skipped": 0,
    "errors": 0,
    "duration": 219.642,
    "tests": [
      {
        "name": "test_int_157_session_history[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 5.806,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_158_workflow_parity[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 30.896,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_int_159_plan_approval_comment[chromium]",
        "classname": "tests.integration.frontend.p0.test_frontend_p0",
        "time": 19.066,
        "status": "passed",
        "message": null
      },
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 48.344,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      },
      {
        "name": "test_cad_topology_selection_and_browser[chromium]",
        "classname": "tests.integration.frontend.test_int_165",
        "time": 45.915,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_cad_topology_selection_and_browser(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        # Note: We expect the 3D viewer to load after this.\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_165.py:42: AssertionError"
      },
      {
        "name": "test_simulation_navigation_timeline[chromium]",
        "classname": "tests.integration.frontend.test_int_166",
        "time": 46.524,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_simulation_navigation_timeline(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple cube benchmark.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_166.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:06:23.616779",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 45.463,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.327,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:12:46.961553",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 122.282,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 122.105,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n>       expect(confirm_button).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_role(\"button\", name=\"Confirm & Start\")\n\ntests/integration/frontend/test_int_164.py:33: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:15:11.129361",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 45.19,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.0,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:21:43.909321",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 45.957,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.789,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           33 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:27:21.283490",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 45.773,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 45.623,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n>       expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\nE       AssertionError: Locator expected not to be visible\nE       Actual value: visible \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for get_by_text(\"No Assets Loaded\")\nE           32 \u00d7 locator resolved to <h3 class=\"text-sm font-bold text-slate-200\">No Assets Loaded</h3>\nE              - unexpected value \"visible\"\n\ntests/integration/frontend/test_int_164.py:40: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:30:25.451213",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 47.249,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 46.954,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n        expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\n        expect(page.get_by_text(\"No Model Loaded\")).not_to_be_visible(timeout=30000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n        expect(script_file).to_be_visible(timeout=30000)\n        script_file.click()\n    \n        # 9. Select lines in the code viewer\n        # Line numbers are usually in a specific column\n        line_number = page.get_by_text(\"1\", exact=True).first\n        expect(line_number).to_be_visible()\n    \n        # Simulate line selection (clicking line number)\n        line_number.click()\n    \n        # 10. Verify Context Card appears in chat input area\n        context_card = page.locator(\".bg-blue-500\\\\/10\")  # Context card styling\n>       expect(context_card).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".bg-blue-500\\\\/10\")\n\ntests/integration/frontend/test_int_164.py:59: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:32:23.889492",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "errors": 1,
    "duration": 0.367,
    "tests": [
      {
        "name": "tests.integration.frontend.test_int_164",
        "classname": "",
        "time": 0.0,
        "status": "error",
        "message": ".venv/lib/python3.12/site-packages/_pytest/python.py:507: in importtestmodule\n    mod = import_path(\n.venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.12/importlib/__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n.venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:188: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.12/ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"/home/maksym/Work/proj/Problemologist/Problemologist-AI/tests/integration/frontend/test_int_164.py\", line 58\nE       context_card = page.get_by_test_id(\"context-card\")\nE   IndentationError: unexpected indent"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:35:06.467947",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 61.098,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 60.952,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n        expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\n        expect(page.get_by_text(\"No Model Loaded\")).not_to_be_visible(timeout=30000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n        expect(script_file).to_be_visible(timeout=30000)\n        script_file.click()\n    \n        # 9. Select lines in the code viewer\n        # Line numbers are usually in a specific column\n        line_number = page.get_by_text(\"1\", exact=True).first\n        expect(line_number).to_be_visible()\n    \n        # Simulate line selection (clicking line number)\n        line_number.click()\n    \n        # 10. Verify Context Card appears in chat input area\n        context_card = page.get_by_test_id(\"context-card\")\n>       expect(context_card).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_test_id(\"context-card\")\n\ntests/integration/frontend/test_int_164.py:58: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:39:25.955760",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 134.439,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 134.311,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n>       expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_label(\"Send Message\")\n\ntests/integration/frontend/test_int_164.py:36: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:44:14.942377",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 47.63,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 47.498,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n        expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\n        expect(page.get_by_text(\"No Model Loaded\")).not_to_be_visible(timeout=30000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n        expect(script_file).to_be_visible(timeout=30000)\n        script_file.click()\n    \n        # 9. Select lines in the code viewer\n        # Line numbers are usually in a specific column, but we use test-id now\n        line_one = page.get_by_test_id(\"code-line-1\")\n        expect(line_one).to_be_visible()\n    \n        # Simulate line selection (clicking the line)\n        line_one.click()\n    \n        # 10. Verify Context Card appears in chat input area\n        context_card = page.get_by_test_id(\"context-card\")\n>       expect(context_card).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_test_id(\"context-card\")\n\ntests/integration/frontend/test_int_164.py:58: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T07:47:06.052296",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 54.79,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 54.569,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # 7. Wait for assets to be generated (Send Message button returns)\n        expect(page.get_by_label(\"Send Message\")).to_be_visible(timeout=120000)\n    \n        # Ensure Viewport overlays are gone before proceeding\n        expect(page.get_by_text(\"No Assets Loaded\")).not_to_be_visible(timeout=30000)\n        expect(page.get_by_text(\"No Model Loaded\")).not_to_be_visible(timeout=30000)\n    \n        # 8. Open a file in the code viewer\n        # Clicking script.py in the file tree\n        script_file = page.get_by_text(\"script.py\")\n        expect(script_file).to_be_visible(timeout=30000)\n        script_file.click()\n    \n        # 9. Select lines in the code viewer\n        # Line numbers are usually in a specific column, but we use test-id now\n        line_one = page.get_by_test_id(\"code-line-1\")\n        expect(line_one).to_be_visible()\n    \n        # Simulate line selection (clicking the line)\n        line_one.click()\n    \n        # 10. Verify Context Card appears in chat input area\n        context_card = page.get_by_test_id(\"context-card\")\n>       expect(context_card).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_test_id(\"context-card\")\n\ntests/integration/frontend/test_int_164.py:58: AssertionError"
      }
    ]
  },
  {
    "timestamp": "2026-02-25T08:07:01.218115",
    "status": "failed",
    "total": 1,
    "passed": 0,
    "failed": 1,
    "skipped": 0,
    "errors": 0,
    "duration": 126.515,
    "tests": [
      {
        "name": "test_code_viewer_line_selection_and_mentions[chromium]",
        "classname": "tests.integration.frontend.test_int_164",
        "time": 126.334,
        "status": "failed",
        "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_code_viewer_line_selection_and_mentions(page: Page):\n        # 1. Navigate to the local development server\n        page.goto(\"http://localhost:15173\", timeout=60000)\n    \n        # 2. Navigate to the Benchmark page\n        benchmark_link = page.get_by_role(\"link\", name=\"Benchmark\")\n        expect(benchmark_link).to_be_visible(timeout=30000)\n        benchmark_link.click()\n    \n        # 3. Click \"CREATE NEW\" button\n        create_new_button = page.get_by_role(\"button\", name=\"CREATE NEW\")\n        expect(create_new_button).to_be_visible(timeout=30000)\n        create_new_button.click()\n    \n        # 4. Enter the prompt\n        prompt_text = \"Create a simple benchmark for moving a ball.\"\n        prompt_input = page.locator(\"#chat-input\")\n        expect(prompt_input).to_be_visible(timeout=30000)\n        prompt_input.fill(prompt_text)\n    \n        # 5. Submit the prompt\n        send_button = page.get_by_label(\"Send Message\")\n        expect(send_button).to_be_enabled(timeout=30000)\n        send_button.click()\n    \n        # 6. Wait for the \"Confirm & Start\" button to appear and click it\n        confirm_button = page.get_by_role(\"button\", name=\"Confirm & Start\")\n>       expect(confirm_button).to_be_visible(timeout=120000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 120000ms\nE         - waiting for get_by_role(\"button\", name=\"Confirm & Start\")\n\ntests/integration/frontend/test_int_164.py:32: AssertionError"
      }
    ]
  }
]