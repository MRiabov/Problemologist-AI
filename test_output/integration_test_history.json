{
  "runs": [
    {
      "timestamp": "2026-02-25T13:09:47.546441",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 231.518,
      "tests": [
        {
          "name": "test_simulation_endpoint_run",
          "classname": "tests.integration.test_simulation_endpoint",
          "time": 231.367,
          "status": "failed",
          "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_simulation_endpoint_run():\n        async with httpx.AsyncClient(timeout=30.0) as client:\n            # 1. Trigger Simulation\n            print(f\"Triggering simulation on {CONTROLLER_URL}...\")\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/simulation/run\",\n                json={\n                    \"session_id\": \"test-sim-run\",\n                    \"script_content\": SCRIPT_CONTENT,\n                    \"backend\": \"GENESIS\"\n                }\n            )\n            assert resp.status_code == 202, f\"Failed: {resp.text}\"\n            data = resp.json()\n            session_id = data[\"session_id\"]\n            print(f\"Simulation started with session_id: {session_id}\")\n    \n            # 2. Poll for completion\n            print(\"Polling for completion...\")\n            start_time = time.time()\n            completed = False\n            while time.time() - start_time < 300:  # 5 min timeout\n                try:\n                    resp = await client.get(f\"{CONTROLLER_URL}/episodes/{session_id}\")\n                    if resp.status_code == 404:\n                        print(\"Episode not found yet...\")\n                        await asyncio.sleep(2)\n                        continue\n    \n                    assert resp.status_code == 200\n                    episode = resp.json()\n                    status = episode[\"status\"]\n                    print(f\"Status: {status}\")\n    \n                    if status == \"COMPLETED\":\n                        completed = True\n                        # Verify assets\n                        assets = episode.get(\"assets\", [])\n                        print(f\"Assets found: {len(assets)}\")\n                        renders = [a for a in assets if a.get(\"asset_type\") == \"image\"]\n                        assert renders, \"No render assets generated!\"\n                        break\n    \n                    if status == \"FAILED\":\n>                       pytest.fail(f\"Episode failed. Validation logs: {episode.get('validation_logs')}\")\nE                       Failed: Episode failed. Validation logs: []\n\ntests/integration/test_simulation_endpoint.py:68: Failed"
        }
      ]
    },
    {
      "timestamp": "2026-02-25T13:04:13.972114",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 126.345,
      "tests": [
        {
          "name": "test_simulation_endpoint_run",
          "classname": "tests.integration.test_simulation_endpoint",
          "time": 126.2,
          "status": "failed",
          "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_simulation_endpoint_run():\n        async with httpx.AsyncClient(timeout=30.0) as client:\n            # 1. Trigger Simulation\n            print(f\"Triggering simulation on {CONTROLLER_URL}...\")\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/simulation/run\",\n                json={\n                    \"session_id\": \"test-sim-run\",\n                    \"script_content\": SCRIPT_CONTENT,\n                    \"backend\": \"GENESIS\"\n                }\n            )\n            assert resp.status_code == 202, f\"Failed: {resp.text}\"\n            data = resp.json()\n            session_id = data[\"session_id\"]\n            print(f\"Simulation started with session_id: {session_id}\")\n    \n            # 2. Poll for completion\n            print(\"Polling for completion...\")\n            start_time = time.time()\n            completed = False\n            while time.time() - start_time < 300:  # 5 min timeout\n                try:\n                    resp = await client.get(f\"{CONTROLLER_URL}/episodes/{session_id}\")\n                    if resp.status_code == 404:\n                        print(\"Episode not found yet...\")\n                        await asyncio.sleep(2)\n                        continue\n    \n                    assert resp.status_code == 200\n                    episode = resp.json()\n                    status = episode[\"status\"]\n                    print(f\"Status: {status}\")\n    \n                    if status == \"COMPLETED\":\n                        completed = True\n                        # Verify assets\n                        assets = episode.get(\"assets\", [])\n                        print(f\"Assets found: {len(assets)}\")\n                        renders = [a for a in assets if a.get(\"asset_type\") == \"image\"]\n                        assert renders, \"No render assets generated!\"\n                        break\n    \n                    if status == \"FAILED\":\n>                       pytest.fail(f\"Episode failed. Validation logs: {episode.get('validation_logs')}\")\nE                       Failed: Episode failed. Validation logs: []\n\ntests/integration/test_simulation_endpoint.py:68: Failed"
        }
      ]
    },
    {
      "timestamp": "2026-02-25T13:00:45.730217",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 62.35,
      "tests": [
        {
          "name": "test_simulation_endpoint_run",
          "classname": "tests.integration.test_simulation_endpoint",
          "time": 62.205,
          "status": "failed",
          "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_simulation_endpoint_run():\n        async with httpx.AsyncClient(timeout=30.0) as client:\n            # 1. Trigger Simulation\n            print(f\"Triggering simulation on {CONTROLLER_URL}...\")\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/simulation/run\",\n                json={\n                    \"session_id\": \"test-sim-run\",\n                    \"script_content\": SCRIPT_CONTENT,\n                    \"backend\": \"GENESIS\"\n                }\n            )\n            assert resp.status_code == 202, f\"Failed: {resp.text}\"\n            data = resp.json()\n            session_id = data[\"session_id\"]\n            print(f\"Simulation started with session_id: {session_id}\")\n    \n            # 2. Poll for completion\n            print(\"Polling for completion...\")\n            start_time = time.time()\n            completed = False\n            while time.time() - start_time < 300:  # 5 min timeout\n                try:\n                    resp = await client.get(f\"{CONTROLLER_URL}/episodes/{session_id}\")\n                    if resp.status_code == 404:\n                        print(\"Episode not found yet...\")\n                        await asyncio.sleep(2)\n                        continue\n    \n                    assert resp.status_code == 200\n                    episode = resp.json()\n                    status = episode[\"status\"]\n                    print(f\"Status: {status}\")\n    \n                    if status == \"COMPLETED\":\n                        completed = True\n                        # Verify assets\n                        assets = episode.get(\"assets\", [])\n                        print(f\"Assets found: {len(assets)}\")\n                        renders = [a for a in assets if a.get(\"asset_type\") == \"image\"]\n                        assert renders, \"No render assets generated!\"\n                        break\n    \n                    if status == \"FAILED\":\n>                       pytest.fail(f\"Episode failed. Validation logs: {episode.get('validation_logs')}\")\nE                       Failed: Episode failed. Validation logs: []\n\ntests/integration/test_simulation_endpoint.py:68: Failed"
        }
      ]
    },
    {
      "timestamp": "2026-02-25T12:58:10.519505",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 32.315,
      "tests": [
        {
          "name": "test_simulation_endpoint_run",
          "classname": "tests.integration.test_simulation_endpoint",
          "time": 32.071,
          "status": "failed",
          "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_simulation_endpoint_run():\n        async with httpx.AsyncClient(timeout=30.0) as client:\n            # 1. Trigger Simulation\n            print(f\"Triggering simulation on {CONTROLLER_URL}...\")\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/simulation/run\",\n                json={\n                    \"session_id\": \"test-sim-run\",\n                    \"script_content\": SCRIPT_CONTENT,\n                    \"backend\": \"GENESIS\"\n                }\n            )\n            assert resp.status_code == 202, f\"Failed: {resp.text}\"\n            data = resp.json()\n            session_id = data[\"session_id\"]\n            print(f\"Simulation started with session_id: {session_id}\")\n    \n            # 2. Poll for completion\n            print(\"Polling for completion...\")\n            start_time = time.time()\n            completed = False\n            while time.time() - start_time < 300:  # 5 min timeout\n                try:\n                    resp = await client.get(f\"{CONTROLLER_URL}/episodes/{session_id}\")\n                    if resp.status_code == 404:\n                        print(\"Episode not found yet...\")\n                        await asyncio.sleep(2)\n                        continue\n    \n                    assert resp.status_code == 200\n                    episode = resp.json()\n                    status = episode[\"status\"]\n                    print(f\"Status: {status}\")\n    \n                    if status == \"COMPLETED\":\n                        completed = True\n                        # Verify assets\n                        assets = episode.get(\"assets\", [])\n                        print(f\"Assets found: {len(assets)}\")\n                        renders = [a for a in assets if a.get(\"asset_type\") == \"image\"]\n                        assert renders, \"No render assets generated!\"\n                        break\n    \n                    if status == \"FAILED\":\n>                       pytest.fail(f\"Episode failed. Validation logs: {episode.get('validation_logs')}\")\nE                       Failed: Episode failed. Validation logs: []\n\ntests/integration/test_simulation_endpoint.py:68: Failed"
        }
      ]
    },
    {
      "timestamp": "2026-02-25T12:55:54.826678",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 300.822,
      "tests": [
        {
          "name": "test_simulation_endpoint_run",
          "classname": "tests.integration.test_simulation_endpoint",
          "time": 300.651,
          "status": "failed",
          "message": "@pytest.mark.integration_p0\n    @pytest.mark.asyncio\n    async def test_simulation_endpoint_run():\n        async with httpx.AsyncClient(timeout=30.0) as client:\n            # 1. Trigger Simulation\n            print(f\"Triggering simulation on {CONTROLLER_URL}...\")\n            resp = await client.post(\n                f\"{CONTROLLER_URL}/simulation/run\",\n                json={\n                    \"session_id\": \"test-sim-run\",\n                    \"script_content\": SCRIPT_CONTENT,\n                    \"backend\": \"GENESIS\"\n                }\n            )\n            assert resp.status_code == 202, f\"Failed: {resp.text}\"\n            data = resp.json()\n            session_id = data[\"session_id\"]\n            print(f\"Simulation started with session_id: {session_id}\")\n    \n            # 2. Poll for completion\n            print(\"Polling for completion...\")\n            start_time = time.time()\n            completed = False\n            while time.time() - start_time < 300:  # 5 min timeout\n                try:\n                    resp = await client.get(f\"{CONTROLLER_URL}/episodes/{session_id}\")\n                    if resp.status_code == 404:\n                        print(\"Episode not found yet...\")\n                        await asyncio.sleep(2)\n                        continue\n    \n                    assert resp.status_code == 200\n                    episode = resp.json()\n                    status = episode[\"status\"]\n                    print(f\"Status: {status}\")\n    \n                    if status == \"COMPLETED\":\n                        completed = True\n                        # Verify assets\n                        assets = episode.get(\"assets\", [])\n                        print(f\"Assets found: {len(assets)}\")\n                        renders = [a for a in assets if a.get(\"asset_type\") == \"image\"]\n                        assert renders, \"No render assets generated!\"\n                        break\n    \n                    if status == \"FAILED\":\n                        pytest.fail(f\"Episode failed. Validation logs: {episode.get('validation_logs')}\")\n    \n                    await asyncio.sleep(2)\n                except Exception as e:\n                    print(f\"Polling error: {e}\")\n                    await asyncio.sleep(2)\n    \n>           assert completed, \"Timeout waiting for simulation completion.\"\nE           AssertionError: Timeout waiting for simulation completion.\nE           assert False\n\ntests/integration/test_simulation_endpoint.py:71: AssertionError"
        }
      ]
    }
  ]
}