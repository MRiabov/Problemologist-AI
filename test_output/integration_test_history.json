{
  "runs": [
    {
      "timestamp": "2026-02-26T08:20:14.520957",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 189.377,
      "tests": [
        {
          "name": "test_int_172_plan_approval_control_placement[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_172",
          "time": 189.134,
          "status": "failed",
          "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_172_plan_approval_control_placement(page: Page):\n        \"\"\"\n        INT-172: Approve/disapprove controls are available in both expected UI locations\n        (chat-bottom and file-explorer/top-right) when planning is complete; controls are\n        hidden/disabled before planner output is ready.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Click CREATE NEW\n        page.get_by_test_id(\"create-new-button\").click()\n    \n        prompt_text = f\"Generate a simple benchmark for approval test {uuid.uuid4()}\"\n        page.locator(\"#chat-input\").fill(prompt_text)\n    \n        # Verify controls are hidden/disabled before planner output is ready\n        chat_confirm_button = page.get_by_test_id(\"chat-confirm-button\")\n        # We will just look for Confirm & Start in chat\n        expect(chat_confirm_button).not_to_be_visible()\n    \n        file_explorer_confirm_button = page.locator(\n            \"[data-testid='file-explorer-confirm-button']\"\n        )\n        expect(file_explorer_confirm_button).not_to_be_visible()\n    \n        # Send message to start planning\n        page.get_by_label(\"Send Message\").click()\n    \n        # 2. Wait for the \"Execution Plan Ready\" card or completion of planning\n>       expect(page.get_by_text(re.compile(\"Execution Plan Ready\", re.IGNORECASE))).to_be_visible(\n            timeout=180000\n        )\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 180000ms\nE         - waiting for get_by_text(re.compile(r\"Execution Plan Ready\", re.IGNORECASE))\n\ntests/integration/frontend/p0/test_int_172.py:44: AssertionError"
        }
      ]
    },
    {
      "timestamp": "2026-02-26T08:10:56.952909",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 187.845,
      "tests": [
        {
          "name": "test_int_172_plan_approval_control_placement[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_172",
          "time": 187.573,
          "status": "failed",
          "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_172_plan_approval_control_placement(page: Page):\n        \"\"\"\n        INT-172: Approve/disapprove controls are available in both expected UI locations\n        (chat-bottom and file-explorer/top-right) when planning is complete; controls are\n        hidden/disabled before planner output is ready.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Click CREATE NEW\n        page.get_by_test_id(\"create-new-button\").click()\n    \n        prompt_text = f\"Generate a simple benchmark for approval test {uuid.uuid4()}\"\n        page.locator(\"#chat-input\").fill(prompt_text)\n    \n        # Verify controls are hidden/disabled before planner output is ready\n        chat_confirm_button = page.get_by_test_id(\"chat-confirm-button\")\n        # We will just look for Confirm & Start in chat\n        expect(chat_confirm_button).not_to_be_visible()\n    \n        file_explorer_confirm_button = page.locator(\n            \"[data-testid='file-explorer-confirm-button']\"\n        )\n        expect(file_explorer_confirm_button).not_to_be_visible()\n    \n        # Send message to start planning\n        page.get_by_label(\"Send Message\").click()\n    \n        # 2. Wait for the \"Execution Plan Ready\" card or completion of planning\n>       expect(page.get_by_text(re.compile(\"Execution Plan Ready\", re.IGNORECASE))).to_be_visible(\n            timeout=180000\n        )\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 180000ms\nE         - waiting for get_by_text(re.compile(r\"Execution Plan Ready\", re.IGNORECASE))\n\ntests/integration/frontend/p0/test_int_172.py:44: AssertionError"
        }
      ]
    },
    {
      "timestamp": "2026-02-26T08:06:02.679775",
      "status": "failed",
      "total": 1,
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 182.366,
      "tests": [
        {
          "name": "test_int_172_plan_approval_control_placement[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_172",
          "time": 182.054,
          "status": "failed",
          "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_172_plan_approval_control_placement(page: Page):\n        \"\"\"\n        INT-172: Approve/disapprove controls are available in both expected UI locations\n        (chat-bottom and file-explorer/top-right) when planning is complete; controls are\n        hidden/disabled before planner output is ready.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\")\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Click CREATE NEW\n        page.get_by_test_id(\"create-new-button\").click()\n    \n        prompt_text = f\"Generate a simple benchmark for approval test {uuid.uuid4()}\"\n        page.locator(\"#chat-input\").fill(prompt_text)\n    \n        # Verify controls are hidden/disabled before planner output is ready\n        chat_confirm_button = page.get_by_test_id(\"chat-confirm-button\")\n        # We will just look for Confirm & Start in chat\n        expect(chat_confirm_button).not_to_be_visible()\n    \n        file_explorer_confirm_button = page.locator(\n            \"[data-testid='file-explorer-confirm-button']\"\n        )\n        expect(file_explorer_confirm_button).not_to_be_visible()\n    \n        # Send message to start planning\n        page.get_by_label(\"Send Message\").click()\n    \n        # 2. Wait for the \"Execution Plan Ready\" card or completion of planning\n>       expect(page.get_by_text(re.compile(\"Execution Plan Ready\", re.IGNORECASE))).to_be_visible(\n            timeout=180000\n        )\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 180000ms\nE         - waiting for get_by_text(re.compile(r\"Execution Plan Ready\", re.IGNORECASE))\n\ntests/integration/frontend/p0/test_int_172.py:44: AssertionError"
        }
      ]
    },
    {
      "timestamp": "2026-02-26T07:58:20.954876",
      "status": "failed",
      "total": 2,
      "passed": 1,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 157.607,
      "tests": [
        {
          "name": "test_int_172_plan_approval_control_placement[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_172",
          "time": 16.382,
          "status": "passed",
          "message": null
        },
        {
          "name": "test_int_173_exact_pointing_payload[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_173",
          "time": 140.959,
          "status": "failed",
          "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_173_exact_pointing_payload(page: Page):\n        \"\"\"\n        INT-173: Selecting face/edge/vertex/part/subassembly produces typed context payloads\n        with stable entity IDs and source asset reference; payload reaches backend unchanged.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\", timeout=60000)\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Click CREATE NEW\n        page.get_by_test_id(\"create-new-button\").click()\n    \n        prompt_text = f\"Generate a simple cube for testing {uuid.uuid4()}\"\n        page.locator(\"#chat-input\").fill(prompt_text)\n        page.get_by_label(\"Send Message\").click()\n    \n        # Wait for completion and confirm\n        confirm_button = page.get_by_test_id(\"chat-confirm-button\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # Wait for the overlay to disappear\n        expect(page.get_by_test_id(\"no-assets-overlay\")).to_be_hidden(timeout=180000)\n    \n        # Wait for the model viewer to load and have assets\n        # E.g. waiting for no-assets-overlay to NOT be visible or waiting for a model to load\n        # Let's just wait a bit or wait for canvas\n        canvas = page.locator(\"canvas\").first\n>       expect(canvas).to_be_visible(timeout=30000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 30000ms\nE         - waiting for locator(\"canvas\").first\n\ntests/integration/frontend/p0/test_int_173.py:42: AssertionError"
        }
      ]
    },
    {
      "timestamp": "2026-02-26T07:52:44.147779",
      "status": "failed",
      "total": 2,
      "passed": 1,
      "failed": 1,
      "skipped": 0,
      "errors": 0,
      "duration": 155.884,
      "tests": [
        {
          "name": "test_int_172_plan_approval_control_placement[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_172",
          "time": 17.195,
          "status": "passed",
          "message": null
        },
        {
          "name": "test_int_173_exact_pointing_payload[chromium]",
          "classname": "tests.integration.frontend.p0.test_int_173",
          "time": 138.283,
          "status": "failed",
          "message": "page = <Page url='http://localhost:15173/benchmark'>\n\n    @pytest.mark.integration_frontend\n    def test_int_173_exact_pointing_payload(page: Page):\n        \"\"\"\n        INT-173: Selecting face/edge/vertex/part/subassembly produces typed context payloads\n        with stable entity IDs and source asset reference; payload reaches backend unchanged.\n        \"\"\"\n        # 1. Start a benchmark generation\n        page.goto(f\"{FRONTEND_URL}/benchmark\", timeout=60000)\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Click CREATE NEW\n        page.get_by_test_id(\"create-new-button\").click()\n    \n        prompt_text = f\"Generate a simple cube for testing {uuid.uuid4()}\"\n        page.locator(\"#chat-input\").fill(prompt_text)\n        page.get_by_label(\"Send Message\").click()\n    \n        # Wait for completion and confirm\n        confirm_button = page.get_by_test_id(\"chat-confirm-button\")\n        expect(confirm_button).to_be_visible(timeout=120000)\n        confirm_button.click()\n    \n        # Wait for the overlay to disappear\n        expect(page.get_by_test_id(\"no-assets-overlay\")).to_be_hidden(timeout=180000)\n    \n        # Wait for the model viewer to load and have assets\n        # E.g. waiting for no-assets-overlay to NOT be visible or waiting for a model to load\n        # Let's just wait a bit or wait for canvas\n        canvas = page.locator(\"canvas\").first\n        expect(canvas).to_be_visible(timeout=30000)\n    \n        # Enable part selection mode\n        part_selection = page.get_by_title(\"Part Selection\")\n        if part_selection.is_visible():\n            part_selection.click()\n    \n        # Click in the middle of the canvas to select a part\n>       canvas.click(position={\"x\": 200, \"y\": 200})\n\ntests/integration/frontend/p0/test_int_173.py:50: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15631: in click\n    self._sync(\n.venv/lib/python3.12/site-packages/playwright/_impl/_locator.py:162: in click\n    return await self._frame._click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.12/site-packages/playwright/_impl/_frame.py:566: in _click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x766e50cf0e00>\ncb = <function Channel.send.<locals>.<lambda> at 0x766e504f3ce0>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"canvas\").first\nE               - locator resolved to <canvas width=\"191\" height=\"203\" data-engine=\"three.js r182\"></canvas>\nE             - attempting click action\nE               - waiting for element to be visible, enabled and stable\nE               - element is visible, enabled and stable\nE               - scrolling into view if needed\nE               - done scrolling\nE               - <div class=\"w-full h-full relative group flex overflow-hidden bg-slate-950\">\u2026</div> intercepts pointer events\nE             - retrying click action\nE               - waiting for element to be visible, enabled and stable\nE               - element is visible, enabled and stable\nE               - scrolling into view if needed\nE               - done scrolling\nE               - <html lang=\"en\" class=\"light\">\u2026</html> intercepts pointer events\nE             - retrying click action\nE               - waiting 20ms\nE               - waiting for element to be visible, enabled and stable\nE               - element is visible, enabled and stable\nE               - scrolling into view if needed\nE               - done scrolling\nE               - <div class=\"w-full h-full relative group flex overflow-hidden bg-slate-950\">\u2026</div> intercepts pointer events\nE             - retrying click action\nE               - waiting 100ms\nE               - waiting for element to be visible, enabled and stable\nE             - element was detached from the DOM, retrying\n\n.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:559: TimeoutError"
        }
      ]
    }
  ]
}