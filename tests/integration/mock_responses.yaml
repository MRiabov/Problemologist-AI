scenarios:
  # INT-002: Engineering execution boundary
  test-exec:
    planner:
      thought: "I will generate the engineering plan for the 10x10x10mm box."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nBuild a box.')
        with open('todo.md', 'w') as f: f.write('- [x] Step 1')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "I will implement the box in build123d and run simulation."
      generated_code: |
        from build123d import *
        with open('solution.py', 'w') as f: f.write('from build123d import *\\ndef build(): return Box(10,10,10)')
        with open('simulation_result.json', 'w') as f: f.write('{"success": true}')
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  # Benchmark workflow (detected by prompt or UUID session_id)
  benchmark:
    planner:
      thought: "Designing benchmark scenario with a wall and a goal."
      reasoning: "Creating a simple path planning task with randomization to verify agent movement robustness."
      plan:
        theme: "path_planning_with_wall"
        reasoning: "Creating a simple path planning task to verify movement."
        params: { wall_height: 50, goal_pos: [100, 100, 0] }
    coder:
      thought: "Implementing benchmark script and setting up mandatory files."
      generated_code: |
        with open('script.py', 'w') as f:
            f.write('from build123d import *\ndef build(): return Box(10,10,10)')

        objectives_content = """
        objectives:
          goal_zone: {min: [80, 80, 0], max: [100, 100, 20]}
          forbid_zones: []
          build_zone: {min: [-100, -100, 0], max: [100, 100, 100]}
        physics:
          backend: genesis
        simulation_bounds: {min: [-150, -150, 0], max: [150, 150, 200]}
        moved_object:
          label: ball
          shape: sphere
          static_randomization: {radius: [5, 5]}
          start_position: [0, 0, 10]
          runtime_jitter: [1, 1, 0]
        constraints:
          max_unit_cost: 100.0
          max_weight_g: 1000.0
        """
        with open('objectives.yaml', 'w') as f: f.write(objectives_content.strip())

        with open('plan.md', 'w') as f:
            f.write('## 1. Learning Objective\nPath planning.\n## 2. Geometry\nA wall.\n## 3. Objectives\nGoal at corner.')

        with open('todo.md', 'w') as f:
            f.write('# TODO\n- [x] Done')
    reviewer:
      thought: "Reviewing benchmark files."
      review:
        decision: "approved"
        reason: "The design is valid and objectives are well-defined."
        required_fixes: []
    cots_search:
      search_summary: "Found required hardware for benchmark setup."

  INT-002:
    planner:
      thought: "Generating INT-002 plan."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nBuild a box.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing box."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(10,10,10)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-016:
    planner:
      thought: "Review schema test for INT-016."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running review schema task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-017:
    planner:
      thought: "Refusal loop test for INT-017."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running refusal task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-030:
    planner:
      thought: "Starting a long task for INT-030..."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Executing long task..."
      generated_code: "import time; time.sleep(10)"

  INT-031:
    planner:
      thought: "Designing benchmark for INT-031."
      plan: "## 1. Solution Overview\nA wall and a goal.\n## 2. Parts List\n- Wall\n- Goal\n## 3. Assembly Strategy\nPlace wall.\n## 4. Cost & Weight Budget\n$10, 100g\n## 5. Risk Assessment\nLow."
    coder:
      thought: "Implementing benchmark geometry."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nWall.')
        with open('objectives.yaml', 'w') as f: f.write('objectives: {goal_zone: {min: [10,10,10], max: [20,20,20]}, build_zone: {min: [-50,-50,0], max: [50,50,50]}}\nsimulation_bounds: {min: [-100,-100,0], max: [100,100,100]}\nmoved_object: {label: obj, shape: sphere, start_position: [0,0,0], runtime_jitter: [0,0,0]}\nconstraints: {max_unit_cost: 100, max_weight_g: 1000}')
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-033:
    planner:
      thought: "Engineering loop for INT-033."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nStack.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 5, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing stacking solution."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-034:
    planner:
      thought: "Engineering loop for INT-034."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTrivial.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 1, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing trivial solution."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-043:
    planner:
      thought: "Batch execution test for INT-043."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running batch task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-058:
    planner:
      thought: "Correlation test for INT-058."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running correlation task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-059:
    planner:
      thought: "Langfuse linkage test for INT-059."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running Langfuse task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-060:
    planner:
      thought: "Langfuse feedback test for INT-060."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running feedback task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-035:
    planner:
      thought: "Checking materials for INT-035."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Testing Aluminum 6061."
      generated_code: |
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-036:
    planner:
      thought: "Checking workbench methods for INT-036."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Testing CNC/3D Print."
      generated_code: |
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 15, estimated_weight_g: 100, estimate_confidence: high}')
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-037:
    planner:
      thought: "Designing door for INT-037."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing RevoluteJoint."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-038:
    planner:
      thought: "Designing oscillator for INT-038."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing sinusoidal controller."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-039:
    planner:
      thought: "Generating cube for INT-039."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing cube."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-040:
    planner:
      thought: "Creating part for INT-040."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing linkage_test."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-042:
    planner:
      thought: "Quick hello for INT-042."
      finished: true
    coder:
      thought: "Finishing immediately."
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-045:
    planner:
      thought: "Skills sync test for INT-045."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running skills sync task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-046:
    planner:
      thought: "Fidelity regression for INT-046."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Reconstructing..."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-047:
    planner:
      thought: "Transfer uplift for INT-047."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Designing bracket."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-048:
    planner:
      thought: "Optimality check for INT-048."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Optimizing..."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-053:
    planner:
      thought: "Observability test for INT-053."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running observability task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-054:
    planner:
      thought: "Failure injection for INT-054."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running failure task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-055:
    planner:
      thought: "S3 test for INT-055."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running S3 task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-056:
    planner:
      thought: "S3 retry test for INT-056."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Running S3 retry task."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-014:
    planner:
      thought: "Searching for COTS parts and creating plan."
      generated_code: |
        results = search_cots_catalog(query="servo motor")
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\\nUse motor MOCK-MOTOR-ID.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f:
            f.write('version: "1.0"\\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\\ncots_parts: [{part_id: "MOCK-MOTOR-ID", manufacturer: "MockCorp", unit_cost_usd: 25.0, quantity: 1, source: "parts.db"}]\\ntotals: {estimated_unit_cost_usd: 25, estimated_weight_g: 50, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 100, max_weight_g: 1000.0}')
    coder:
      thought: "Implementing plan."
      generated_code: "with open('solution.py', 'w') as f: f.write('Box(1,1,1)')"
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-025:
    planner:
      thought: "Generating plan for INT-025."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 100, max_weight_g: 1000.0}')
    coder:
      thought: "Running simulate which emits events."
      generated_code: |
        with open('solution.py', 'w') as f: f.write('from build123d import *\\ndef build(): return Box(1,1,1)')
        simulate(backend="mujoco")
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  INT-027:
    planner:
      thought: "Generating plan for INT-027."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\\nTest.')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 100, max_weight_g: 1000.0}')
    coder:
      thought: "Running simulate."
      generated_code: |
        with open('solution.py', 'w') as f: f.write('from build123d import *\\ndef build(): return Box(10,10,10)')
        simulate(backend="mujoco")
      finished: true
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []

  # Default fallback
  default:
    planner:
      thought: "Default planner response."
      generated_code: |
        with open('plan.md', 'w') as f: f.write('## 1. Solution Overview\nDefault')
        with open('todo.md', 'w') as f: f.write('- [x] Done')
        with open('assembly_definition.yaml', 'w') as f: f.write('version: "1.0"\nconstraints: {benchmark_max_unit_cost_usd: 100, benchmark_max_weight_g: 1000, planner_target_max_unit_cost_usd: 50, planner_target_max_weight_g: 500}\ntotals: {estimated_unit_cost_usd: 10, estimated_weight_g: 100, estimate_confidence: high}')
        with open('objectives.yaml', 'w') as f: f.write('constraints: {max_unit_cost: 50, max_weight_g: 1000.0}')
    coder:
      thought: "Default coder response."
      generated_code: "with open('solution.py', 'w') as f: f.write('# Default')"
    reviewer:
      review:
        decision: "approved"
        reason: "The design satisfies all requirements."
        required_fixes: []
