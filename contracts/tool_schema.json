{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ManufacturingReport",
  "type": "object",
  "properties": {
    "status": {
      "type": "string",
      "enum": ["pass", "fail"]
    },
    "process": {
      "type": "string",
      "enum": ["cnc_milling", "injection_molding"]
    },
    "manufacturability_score": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0
    },
    "violations": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": { "type": "string" },
          "description": { "type": "string" },
          "severity": { "type": "string", "enum": ["critical", "warning"] },
          "affected_faces": {
            "type": "array",
            "items": { "type": "integer" }
          },
          "location": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3
          }
        },
        "required": ["type", "description", "severity"]
      }
    },
    "cost_analysis": {
      "type": "object",
      "properties": {
        "quantity": { "type": "integer" },
        "unit_cost": { "type": "number" },
        "total_cost": { "type": "number" },
        "setup_cost": { "type": "number" },
        "material_cost": { "type": "number" },
        "processing_cost": { "type": "number" }
      },
      "required": ["quantity", "unit_cost", "total_cost"]
    }
  },
  "required": ["status", "process", "violations", "cost_analysis"]
}
